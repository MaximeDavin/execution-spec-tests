
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A collection of test cases implemented in Python for Ethereum execution clients">
      
      
      
        <link rel="canonical" href="https://ethereum.github.io/execution-spec-tests/main/tests/prague/eip7702_set_code_tx/test_set_code_txs/">
      
      
        <link rel="prev" href="../test_gas/index/test_cases/">
      
      
        <link rel="next" href="index/test_cases/">
      
      
      <link rel="icon" href="../../../../img/ETH-logo-icon.svg">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.33">
    
    
      
        <title>Test Set Code Txs - Ethereum Execution Spec Tests</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.3cba04c6.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Test Set Code Txs - Ethereum Execution Spec Tests" >
      
        <meta  property="og:description"  content="A collection of test cases implemented in Python for Ethereum execution clients" >
      
        <meta  property="og:image"  content="https://ethereum.github.io/execution-spec-tests/main/assets/images/social/tests/prague/eip7702_set_code_tx/test_set_code_txs/index.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://ethereum.github.io/execution-spec-tests/main/tests/prague/eip7702_set_code_tx/test_set_code_txs/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Test Set Code Txs - Ethereum Execution Spec Tests" >
      
        <meta  name="twitter:description"  content="A collection of test cases implemented in Python for Ethereum execution clients" >
      
        <meta  name="twitter:image"  content="https://ethereum.github.io/execution-spec-tests/main/assets/images/social/tests/prague/eip7702_set_code_tx/test_set_code_txs/index.png" >
      
    
    
   <link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#test-set-code-txs" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Ethereum Execution Spec Tests" class="md-header__button md-logo" aria-label="Ethereum Execution Spec Tests" data-md-component="logo">
      
  <img src="../../../../img/Ethereum-logo-600px.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Ethereum Execution Spec Tests
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Test Set Code Txs
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ethereum/execution-spec-tests" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    execution-spec-tests
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../getting_started/quick_start/" class="md-tabs__link">
          
  
    
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../writing_tests/" class="md-tabs__link">
          
  
    
  
  Writing Tests

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../tutorials/state_transition/" class="md-tabs__link">
          
  
    
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../consuming_tests/" class="md-tabs__link">
          
  
    
  
  Consuming Tests

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../getting_help/" class="md-tabs__link">
        
  
    
  
  Getting Help

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../dev/" class="md-tabs__link">
          
  
    
  
  Developer Doc

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../CHANGELOG/" class="md-tabs__link">
        
  
    
  
  Changelog

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../library/" class="md-tabs__link">
          
  
    
  
  Library Reference

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../" class="md-tabs__link">
          
  
    
  
  Test case reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Ethereum Execution Spec Tests" class="md-nav__button md-logo" aria-label="Ethereum Execution Spec Tests" data-md-component="logo">
      
  <img src="../../../../img/Ethereum-logo-600px.png" alt="logo">

    </a>
    Ethereum Execution Spec Tests
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ethereum/execution-spec-tests" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    execution-spec-tests
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting_started/quick_start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting_started/setup_vs_code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VS Code Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting_started/repository_overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Repository Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting_started/installation_troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting_started/executing_tests_command_line/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Executing Tests at a Prompt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting_started/executing_tests_vs_code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Executing Tests in VS Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting_started/executing_tests_dev_fork/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Executing Tests for Features Under Development
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting_started/debugging_t8n_tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging Transition Tools
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../writing_tests/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Writing Tests
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Writing Tests
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../writing_tests/code_standards/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Standards
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../writing_tests/types_of_tests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Types of Test
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../writing_tests/adding_a_new_test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding a New Test
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../writing_tests/writing_a_new_test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Writing a New Test
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../writing_tests/test_markers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Markers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../writing_tests/reference_specification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Referencing an EIP Spec Version
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../writing_tests/verifying_changes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Verifying Changes Locally
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../writing_tests/exception_tests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exception Tests
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tutorials/state_transition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    State Transition Tests
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../consuming_tests/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Consuming Tests
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Consuming Tests
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../consuming_tests/state_test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    State Tests
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../consuming_tests/blockchain_test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blockchain Tests
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../consuming_tests/blockchain_test_engine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blockchain Engine Tests
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../consuming_tests/eof_test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EOF Tests
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../consuming_tests/common_types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../consuming_tests/exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exceptions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting_help/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Help
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../dev/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Developer Doc
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Developer Doc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../dev/docs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../dev/coding_style/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coding Style
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../dev/precommit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enabling Precommit Checks
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../CHANGELOG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../library/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Library Reference
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9" id="__nav_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Library Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../library/ethereum_test_base_types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ethereum Test Base Types Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../library/ethereum_test_exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ethereum Test Exceptions Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../library/ethereum_test_fixtures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ethereum Test Fixtures Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../library/ethereum_test_forks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ethereum Test Forks Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../library/ethereum_test_specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ethereum Test Specs Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../library/ethereum_test_tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ethereum Test Tools Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../library/ethereum_test_types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ethereum Test Types Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../library/ethereum_test_vm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ethereum Test VM Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../library/evm_transition_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EVM Transition Tool Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../library/pytest_plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pytest Plugins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../library/pytest_plugins/filler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Filler Plugin
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test case reference
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10" id="__nav_10_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Test case reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Prague
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2" id="__nav_10_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_10_2">
            <span class="md-nav__icon md-icon"></span>
            Prague
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip2537_bls_12_381_precompiles/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-2537 Bls 12 381 Precompiles
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_2" id="__nav_10_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_2">
            <span class="md-nav__icon md-icon"></span>
            EIP-2537 Bls 12 381 Precompiles
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip2537_bls_12_381_precompiles/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_2_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip2537_bls_12_381_precompiles/test_bls12_g1add/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Bls12 G1add
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_2_3" id="__nav_10_2_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_2_3">
            <span class="md-nav__icon md-icon"></span>
            Test Bls12 G1add
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip2537_bls_12_381_precompiles/test_bls12_g1add/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_2_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip2537_bls_12_381_precompiles/test_bls12_g1msm/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Bls12 G1msm
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_2_4" id="__nav_10_2_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_2_4">
            <span class="md-nav__icon md-icon"></span>
            Test Bls12 G1msm
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip2537_bls_12_381_precompiles/test_bls12_g1msm/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_2_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip2537_bls_12_381_precompiles/test_bls12_g1mul/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Bls12 G1mul
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_2_5" id="__nav_10_2_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_2_5">
            <span class="md-nav__icon md-icon"></span>
            Test Bls12 G1mul
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip2537_bls_12_381_precompiles/test_bls12_g1mul/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_2_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip2537_bls_12_381_precompiles/test_bls12_g2add/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Bls12 G2add
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_2_6" id="__nav_10_2_2_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_2_6">
            <span class="md-nav__icon md-icon"></span>
            Test Bls12 G2add
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip2537_bls_12_381_precompiles/test_bls12_g2add/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_2_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip2537_bls_12_381_precompiles/test_bls12_g2msm/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Bls12 G2msm
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_2_7" id="__nav_10_2_2_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_2_7">
            <span class="md-nav__icon md-icon"></span>
            Test Bls12 G2msm
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip2537_bls_12_381_precompiles/test_bls12_g2msm/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_2_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip2537_bls_12_381_precompiles/test_bls12_g2mul/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Bls12 G2mul
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_2_8" id="__nav_10_2_2_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_2_8">
            <span class="md-nav__icon md-icon"></span>
            Test Bls12 G2mul
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip2537_bls_12_381_precompiles/test_bls12_g2mul/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_2_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip2537_bls_12_381_precompiles/test_bls12_map_fp2_to_g2/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Bls12 Map Fp2 To G2
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_2_9" id="__nav_10_2_2_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_2_9">
            <span class="md-nav__icon md-icon"></span>
            Test Bls12 Map Fp2 To G2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip2537_bls_12_381_precompiles/test_bls12_map_fp2_to_g2/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_2_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip2537_bls_12_381_precompiles/test_bls12_map_fp_to_g1/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Bls12 Map Fp To G1
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_2_10" id="__nav_10_2_2_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_2_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_2_10">
            <span class="md-nav__icon md-icon"></span>
            Test Bls12 Map Fp To G1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip2537_bls_12_381_precompiles/test_bls12_map_fp_to_g1/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_2_11" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip2537_bls_12_381_precompiles/test_bls12_pairing/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Bls12 Pairing
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_2_11" id="__nav_10_2_2_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_2_11">
            <span class="md-nav__icon md-icon"></span>
            Test Bls12 Pairing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip2537_bls_12_381_precompiles/test_bls12_pairing/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_2_12" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip2537_bls_12_381_precompiles/test_bls12_precompiles_before_fork/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Bls12 Precompiles Before Fork
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_2_12" id="__nav_10_2_2_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_2_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_2_12">
            <span class="md-nav__icon md-icon"></span>
            Test Bls12 Precompiles Before Fork
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip2537_bls_12_381_precompiles/test_bls12_precompiles_before_fork/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_2_13" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip2537_bls_12_381_precompiles/test_bls12_variable_length_input_contracts/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Bls12 Variable Length Input Contracts
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_2_13" id="__nav_10_2_2_13_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_2_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_2_13">
            <span class="md-nav__icon md-icon"></span>
            Test Bls12 Variable Length Input Contracts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip2537_bls_12_381_precompiles/test_bls12_variable_length_input_contracts/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_2_14" >
        
          
          <label class="md-nav__link" for="__nav_10_2_2_14" id="__nav_10_2_2_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Vectors
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_2_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_2_14">
            <span class="md-nav__icon md-icon"></span>
            Vectors
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip2537_bls_12_381_precompiles/vectors/test-vectors./" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test-vectors
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip2935_historical_block_hashes_from_state/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-2935 Historical Block Hashes From State
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_3" id="__nav_10_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_3">
            <span class="md-nav__icon md-icon"></span>
            EIP-2935 Historical Block Hashes From State
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip2935_historical_block_hashes_from_state/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip2935_historical_block_hashes_from_state/test_block_hashes/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Block Hashes
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_3_3" id="__nav_10_2_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_3_3">
            <span class="md-nav__icon md-icon"></span>
            Test Block Hashes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip2935_historical_block_hashes_from_state/test_block_hashes/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip6110_deposits/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-6110 Deposits
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_4" id="__nav_10_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_4">
            <span class="md-nav__icon md-icon"></span>
            EIP-6110 Deposits
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip6110_deposits/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_4_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip6110_deposits/test_deposits/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Deposits
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_4_3" id="__nav_10_2_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_4_3">
            <span class="md-nav__icon md-icon"></span>
            Test Deposits
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip6110_deposits/test_deposits/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7002_el_triggerable_withdrawals/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-7002 El Triggerable Withdrawals
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_5" id="__nav_10_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_5">
            <span class="md-nav__icon md-icon"></span>
            EIP-7002 El Triggerable Withdrawals
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7002_el_triggerable_withdrawals/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_5_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7002_el_triggerable_withdrawals/test_withdrawal_requests/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Withdrawal Requests
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_5_3" id="__nav_10_2_5_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_5_3">
            <span class="md-nav__icon md-icon"></span>
            Test Withdrawal Requests
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7002_el_triggerable_withdrawals/test_withdrawal_requests/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7251_consolidations/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-7251 Consolidations
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_6" id="__nav_10_2_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_6">
            <span class="md-nav__icon md-icon"></span>
            EIP-7251 Consolidations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7251_consolidations/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_6_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7251_consolidations/test_consolidations/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Consolidations
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_6_3" id="__nav_10_2_6_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_6_3">
            <span class="md-nav__icon md-icon"></span>
            Test Consolidations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7251_consolidations/test_consolidations/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7685_general_purpose_el_requests/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-7685 General Purpose El Requests
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_7" id="__nav_10_2_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_7">
            <span class="md-nav__icon md-icon"></span>
            EIP-7685 General Purpose El Requests
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7685_general_purpose_el_requests/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_7_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7685_general_purpose_el_requests/test_deposits_withdrawals_consolidations/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Deposits Withdrawals Consolidations
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_7_3" id="__nav_10_2_7_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_7_3">
            <span class="md-nav__icon md-icon"></span>
            Test Deposits Withdrawals Consolidations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7685_general_purpose_el_requests/test_deposits_withdrawals_consolidations/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-7692 Eof V1
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8" id="__nav_10_2_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8">
            <span class="md-nav__icon md-icon"></span>
            EIP-7692 Eof V1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/tracker./" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tracker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip3540_eof_v1/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-3540 Eof V1
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_3" id="__nav_10_2_8_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_3">
            <span class="md-nav__icon md-icon"></span>
            EIP-3540 Eof V1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip3540_eof_v1/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_all_opcodes_in_container/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test All Opcodes In Container
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_3_3" id="__nav_10_2_8_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_3_3">
            <span class="md-nav__icon md-icon"></span>
            Test All Opcodes In Container
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_all_opcodes_in_container/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_container_size/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Container Size
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_3_4" id="__nav_10_2_8_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_3_4">
            <span class="md-nav__icon md-icon"></span>
            Test Container Size
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_container_size/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_3_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_container_validation/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Container Validation
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_3_5" id="__nav_10_2_8_3_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_3_5">
            <span class="md-nav__icon md-icon"></span>
            Test Container Validation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_container_validation/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_3_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_eof_example/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Eof Example
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_3_6" id="__nav_10_2_8_3_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_3_6">
            <span class="md-nav__icon md-icon"></span>
            Test Eof Example
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_eof_example/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_3_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_execution_function/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Execution Function
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_3_7" id="__nav_10_2_8_3_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_3_7">
            <span class="md-nav__icon md-icon"></span>
            Test Execution Function
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_execution_function/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_3_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_extcode/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Extcode
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_3_8" id="__nav_10_2_8_3_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_3_8">
            <span class="md-nav__icon md-icon"></span>
            Test Extcode
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_extcode/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_3_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_migrated_valid_invalid/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Migrated Valid Invalid
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_3_9" id="__nav_10_2_8_3_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_3_9">
            <span class="md-nav__icon md-icon"></span>
            Test Migrated Valid Invalid
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_migrated_valid_invalid/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_3_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_opcodes_in_legacy/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Opcodes In Legacy
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_3_10" id="__nav_10_2_8_3_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_3_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_3_10">
            <span class="md-nav__icon md-icon"></span>
            Test Opcodes In Legacy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_opcodes_in_legacy/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_3_11" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_section_header_body_mismatch/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Section Header Body Mismatch
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_3_11" id="__nav_10_2_8_3_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_3_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_3_11">
            <span class="md-nav__icon md-icon"></span>
            Test Section Header Body Mismatch
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_section_header_body_mismatch/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_3_12" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_section_order/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Section Order
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_3_12" id="__nav_10_2_8_3_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_3_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_3_12">
            <span class="md-nav__icon md-icon"></span>
            Test Section Order
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_section_order/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_3_13" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_section_size/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Section Size
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_3_13" id="__nav_10_2_8_3_13_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_3_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_3_13">
            <span class="md-nav__icon md-icon"></span>
            Test Section Size
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip3540_eof_v1/test_section_size/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip4200_relative_jumps/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-4200 Relative Jumps
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_4" id="__nav_10_2_8_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_4">
            <span class="md-nav__icon md-icon"></span>
            EIP-4200 Relative Jumps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_4_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip4200_relative_jumps/test_rjump/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Rjump
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_4_2" id="__nav_10_2_8_4_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_4_2">
            <span class="md-nav__icon md-icon"></span>
            Test Rjump
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip4200_relative_jumps/test_rjump/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_4_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip4200_relative_jumps/test_rjumpi/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Rjumpi
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_4_3" id="__nav_10_2_8_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_4_3">
            <span class="md-nav__icon md-icon"></span>
            Test Rjumpi
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip4200_relative_jumps/test_rjumpi/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_4_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip4200_relative_jumps/test_rjumpv/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Rjumpv
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_4_4" id="__nav_10_2_8_4_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_4_4">
            <span class="md-nav__icon md-icon"></span>
            Test Rjumpv
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip4200_relative_jumps/test_rjumpv/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip4750_functions/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-4750 Functions
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_5" id="__nav_10_2_8_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_8_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_5">
            <span class="md-nav__icon md-icon"></span>
            EIP-4750 Functions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_5_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip4750_functions/test_callf_execution/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Callf Execution
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_5_2" id="__nav_10_2_8_5_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_5_2">
            <span class="md-nav__icon md-icon"></span>
            Test Callf Execution
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip4750_functions/test_callf_execution/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_5_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip4750_functions/test_code_validation/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Code Validation
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_5_3" id="__nav_10_2_8_5_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_5_3">
            <span class="md-nav__icon md-icon"></span>
            Test Code Validation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip4750_functions/test_code_validation/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip6206_jumpf/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-6206 Jumpf
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_6" id="__nav_10_2_8_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_8_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_6">
            <span class="md-nav__icon md-icon"></span>
            EIP-6206 Jumpf
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip6206_jumpf/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_6_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip6206_jumpf/test_jumpf_execution/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Jumpf Execution
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_6_3" id="__nav_10_2_8_6_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_6_3">
            <span class="md-nav__icon md-icon"></span>
            Test Jumpf Execution
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip6206_jumpf/test_jumpf_execution/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_6_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip6206_jumpf/test_jumpf_stack/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Jumpf Stack
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_6_4" id="__nav_10_2_8_6_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_6_4">
            <span class="md-nav__icon md-icon"></span>
            Test Jumpf Stack
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip6206_jumpf/test_jumpf_stack/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_6_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip6206_jumpf/test_jumpf_target/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Jumpf Target
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_6_5" id="__nav_10_2_8_6_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_6_5">
            <span class="md-nav__icon md-icon"></span>
            Test Jumpf Target
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip6206_jumpf/test_jumpf_target/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_6_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip6206_jumpf/test_nonretruning_validation/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Nonretruning Validation
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_6_6" id="__nav_10_2_8_6_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_6_6">
            <span class="md-nav__icon md-icon"></span>
            Test Nonretruning Validation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip6206_jumpf/test_nonretruning_validation/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip663_dupn_swapn_exchange/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-663 DUPn Swapn Exchange
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_7" id="__nav_10_2_8_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_8_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_7">
            <span class="md-nav__icon md-icon"></span>
            EIP-663 DUPn Swapn Exchange
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_7_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip663_dupn_swapn_exchange/test_dupn/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test DUPn
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_7_2" id="__nav_10_2_8_7_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_7_2">
            <span class="md-nav__icon md-icon"></span>
            Test DUPn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip663_dupn_swapn_exchange/test_dupn/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_7_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip663_dupn_swapn_exchange/test_exchange/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Exchange
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_7_3" id="__nav_10_2_8_7_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_7_3">
            <span class="md-nav__icon md-icon"></span>
            Test Exchange
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip663_dupn_swapn_exchange/test_exchange/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_7_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip663_dupn_swapn_exchange/test_swapn/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Swapn
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_7_4" id="__nav_10_2_8_7_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_7_4">
            <span class="md-nav__icon md-icon"></span>
            Test Swapn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip663_dupn_swapn_exchange/test_swapn/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip7069_extcall/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-7069 Extcall
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_8" id="__nav_10_2_8_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_8_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_8">
            <span class="md-nav__icon md-icon"></span>
            EIP-7069 Extcall
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip7069_extcall/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_8_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip7069_extcall/test_address_space_extension/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Address Space Extension
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_8_3" id="__nav_10_2_8_8_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_8_3">
            <span class="md-nav__icon md-icon"></span>
            Test Address Space Extension
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip7069_extcall/test_address_space_extension/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_8_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip7069_extcall/test_calldata/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Calldata
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_8_4" id="__nav_10_2_8_8_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_8_4">
            <span class="md-nav__icon md-icon"></span>
            Test Calldata
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip7069_extcall/test_calldata/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_8_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip7069_extcall/test_calls/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Calls
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_8_5" id="__nav_10_2_8_8_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_8_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_8_5">
            <span class="md-nav__icon md-icon"></span>
            Test Calls
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip7069_extcall/test_calls/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_8_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip7069_extcall/test_gas/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Gas
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_8_6" id="__nav_10_2_8_8_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_8_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_8_6">
            <span class="md-nav__icon md-icon"></span>
            Test Gas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip7069_extcall/test_gas/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_8_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip7069_extcall/test_returndatacopy_memory_expansion/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Returndatacopy Memory Expansion
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_8_7" id="__nav_10_2_8_8_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_8_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_8_7">
            <span class="md-nav__icon md-icon"></span>
            Test Returndatacopy Memory Expansion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip7069_extcall/test_returndatacopy_memory_expansion/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_8_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip7069_extcall/test_returndataload/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Returndataload
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_8_8" id="__nav_10_2_8_8_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_8_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_8_8">
            <span class="md-nav__icon md-icon"></span>
            Test Returndataload
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip7069_extcall/test_returndataload/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip7480_data_section/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-7480 Data Section
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_9" id="__nav_10_2_8_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_8_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_9">
            <span class="md-nav__icon md-icon"></span>
            EIP-7480 Data Section
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip7480_data_section/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_9_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip7480_data_section/test_code_validation/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Code Validation
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_9_3" id="__nav_10_2_8_9_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_9_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_9_3">
            <span class="md-nav__icon md-icon"></span>
            Test Code Validation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip7480_data_section/test_code_validation/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_9_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip7480_data_section/test_data_opcodes/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Data Opcodes
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_9_4" id="__nav_10_2_8_9_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_9_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_9_4">
            <span class="md-nav__icon md-icon"></span>
            Test Data Opcodes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip7480_data_section/test_data_opcodes/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_9_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip7480_data_section/test_datacopy_memory_expansion/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Datacopy Memory Expansion
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_9_5" id="__nav_10_2_8_9_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_9_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_9_5">
            <span class="md-nav__icon md-icon"></span>
            Test Datacopy Memory Expansion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip7480_data_section/test_datacopy_memory_expansion/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip7620_eof_create/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-7620 Eof Create
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_10" id="__nav_10_2_8_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_8_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_10">
            <span class="md-nav__icon md-icon"></span>
            EIP-7620 Eof Create
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip7620_eof_create/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_10_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip7620_eof_create/test_eofcreate/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Eofcreate
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_10_3" id="__nav_10_2_8_10_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_10_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_10_3">
            <span class="md-nav__icon md-icon"></span>
            Test Eofcreate
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip7620_eof_create/test_eofcreate/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_10_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip7620_eof_create/test_eofcreate_failures/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Eofcreate Failures
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_10_4" id="__nav_10_2_8_10_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_10_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_10_4">
            <span class="md-nav__icon md-icon"></span>
            Test Eofcreate Failures
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip7620_eof_create/test_eofcreate_failures/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_10_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip7620_eof_create/test_legacy_eof_creates/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Legacy Eof Creates
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_10_5" id="__nav_10_2_8_10_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_10_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_10_5">
            <span class="md-nav__icon md-icon"></span>
            Test Legacy Eof Creates
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip7620_eof_create/test_legacy_eof_creates/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_10_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip7620_eof_create/test_returncontract/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Returncontract
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_10_6" id="__nav_10_2_8_10_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_10_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_10_6">
            <span class="md-nav__icon md-icon"></span>
            Test Returncontract
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip7620_eof_create/test_returncontract/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_8_10_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../eip7692_eof_v1/eip7620_eof_create/test_subcontainer_validation/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Subcontainer Validation
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_8_10_7" id="__nav_10_2_8_10_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_10_2_8_10_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_8_10_7">
            <span class="md-nav__icon md-icon"></span>
            Test Subcontainer Validation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../eip7692_eof_v1/eip7620_eof_create/test_subcontainer_validation/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_9" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-7702 Set Code Tx
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_9" id="__nav_10_2_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_2_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_10_2_9">
            <span class="md-nav__icon md-icon"></span>
            EIP-7702 Set Code Tx
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_9_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../test_gas/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Gas
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_2_9_3" id="__nav_10_2_9_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_9_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_9_3">
            <span class="md-nav__icon md-icon"></span>
            Test Gas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test_gas/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_9_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="./" class="md-nav__link md-nav__link--active">
              
  
  <span class="md-ellipsis">
    Test Set Code Txs
  </span>
  

            </a>
            
              
              <label class="md-nav__link md-nav__link--active" for="__nav_10_2_9_4" id="__nav_10_2_9_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_2_9_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_10_2_9_4">
            <span class="md-nav__icon md-icon"></span>
            Test Set Code Txs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Cancun
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3" id="__nav_10_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3">
            <span class="md-nav__icon md-icon"></span>
            Cancun
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip1153_tstore/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-1153 Tstore
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_2" id="__nav_10_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_2">
            <span class="md-nav__icon md-icon"></span>
            EIP-1153 Tstore
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip1153_tstore/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_2_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip1153_tstore/test_basic_tload/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Basic Tload
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_2_3" id="__nav_10_3_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_2_3">
            <span class="md-nav__icon md-icon"></span>
            Test Basic Tload
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip1153_tstore/test_basic_tload/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_2_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip1153_tstore/test_tload_calls/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Tload Calls
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_2_4" id="__nav_10_3_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_2_4">
            <span class="md-nav__icon md-icon"></span>
            Test Tload Calls
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip1153_tstore/test_tload_calls/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_2_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip1153_tstore/test_tload_reentrancy/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Tload Reentrancy
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_2_5" id="__nav_10_3_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_2_5">
            <span class="md-nav__icon md-icon"></span>
            Test Tload Reentrancy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip1153_tstore/test_tload_reentrancy/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_2_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip1153_tstore/test_tstorage/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Tstorage
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_2_6" id="__nav_10_3_2_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_2_6">
            <span class="md-nav__icon md-icon"></span>
            Test Tstorage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip1153_tstore/test_tstorage/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_2_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip1153_tstore/test_tstorage_clear_after_tx/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Tstorage Clear After Tx
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_2_7" id="__nav_10_3_2_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_2_7">
            <span class="md-nav__icon md-icon"></span>
            Test Tstorage Clear After Tx
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip1153_tstore/test_tstorage_clear_after_tx/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_2_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip1153_tstore/test_tstorage_create_contexts/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Tstorage Create Contexts
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_2_8" id="__nav_10_3_2_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_2_8">
            <span class="md-nav__icon md-icon"></span>
            Test Tstorage Create Contexts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip1153_tstore/test_tstorage_create_contexts/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_2_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip1153_tstore/test_tstorage_execution_contexts/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Tstorage Execution Contexts
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_2_9" id="__nav_10_3_2_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_2_9">
            <span class="md-nav__icon md-icon"></span>
            Test Tstorage Execution Contexts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip1153_tstore/test_tstorage_execution_contexts/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_2_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip1153_tstore/test_tstorage_reentrancy_contexts/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Tstorage Reentrancy Contexts
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_2_10" id="__nav_10_3_2_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_2_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_2_10">
            <span class="md-nav__icon md-icon"></span>
            Test Tstorage Reentrancy Contexts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip1153_tstore/test_tstorage_reentrancy_contexts/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_2_11" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip1153_tstore/test_tstorage_selfdestruct/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Tstorage Selfdestruct
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_2_11" id="__nav_10_3_2_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_2_11">
            <span class="md-nav__icon md-icon"></span>
            Test Tstorage Selfdestruct
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip1153_tstore/test_tstorage_selfdestruct/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_2_12" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip1153_tstore/test_tstore_reentrancy/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Tstore Reentrancy
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_2_12" id="__nav_10_3_2_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_2_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_2_12">
            <span class="md-nav__icon md-icon"></span>
            Test Tstore Reentrancy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip1153_tstore/test_tstore_reentrancy/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip4788_beacon_root/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-4788 Beacon Root
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_3" id="__nav_10_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_3">
            <span class="md-nav__icon md-icon"></span>
            EIP-4788 Beacon Root
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip4788_beacon_root/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip4788_beacon_root/test_beacon_root_contract/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Beacon Root Contract
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_3_3" id="__nav_10_3_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_3_3">
            <span class="md-nav__icon md-icon"></span>
            Test Beacon Root Contract
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip4788_beacon_root/test_beacon_root_contract/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip4844_blobs/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-4844 Blobs
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_4" id="__nav_10_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_4">
            <span class="md-nav__icon md-icon"></span>
            EIP-4844 Blobs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip4844_blobs/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_4_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip4844_blobs/test_blob_txs/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Blob Txs
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_4_3" id="__nav_10_3_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_4_3">
            <span class="md-nav__icon md-icon"></span>
            Test Blob Txs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip4844_blobs/test_blob_txs/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_4_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip4844_blobs/test_blob_txs_full/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Blob Txs Full
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_4_4" id="__nav_10_3_4_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_4_4">
            <span class="md-nav__icon md-icon"></span>
            Test Blob Txs Full
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip4844_blobs/test_blob_txs_full/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_4_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip4844_blobs/test_blobhash_opcode/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Blobhash Opcode
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_4_5" id="__nav_10_3_4_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_4_5">
            <span class="md-nav__icon md-icon"></span>
            Test Blobhash Opcode
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip4844_blobs/test_blobhash_opcode/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_4_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip4844_blobs/test_blobhash_opcode_contexts/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Blobhash Opcode Contexts
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_4_6" id="__nav_10_3_4_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_4_6">
            <span class="md-nav__icon md-icon"></span>
            Test Blobhash Opcode Contexts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip4844_blobs/test_blobhash_opcode_contexts/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_4_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip4844_blobs/test_excess_blob_gas/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Excess Blob Gas
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_4_7" id="__nav_10_3_4_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_4_7">
            <span class="md-nav__icon md-icon"></span>
            Test Excess Blob Gas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip4844_blobs/test_excess_blob_gas/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_4_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip4844_blobs/test_excess_blob_gas_fork_transition/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Excess Blob Gas Fork Transition
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_4_8" id="__nav_10_3_4_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_4_8">
            <span class="md-nav__icon md-icon"></span>
            Test Excess Blob Gas Fork Transition
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip4844_blobs/test_excess_blob_gas_fork_transition/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_4_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip4844_blobs/test_point_evaluation_precompile/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Point Evaluation Precompile
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_4_9" id="__nav_10_3_4_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_4_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_4_9">
            <span class="md-nav__icon md-icon"></span>
            Test Point Evaluation Precompile
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip4844_blobs/test_point_evaluation_precompile/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_4_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip4844_blobs/test_point_evaluation_precompile_gas/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Point Evaluation Precompile Gas
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_4_10" id="__nav_10_3_4_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_4_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_4_10">
            <span class="md-nav__icon md-icon"></span>
            Test Point Evaluation Precompile Gas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip4844_blobs/test_point_evaluation_precompile_gas/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_4_11" >
        
          
          <label class="md-nav__link" for="__nav_10_3_4_11" id="__nav_10_3_4_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Point Evaluation Vectors
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_4_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_4_11">
            <span class="md-nav__icon md-icon"></span>
            Point Evaluation Vectors
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip4844_blobs/point_evaluation_vectors/README_./" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Readme
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip5656_mcopy/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-5656 Mcopy
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_5" id="__nav_10_3_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_5">
            <span class="md-nav__icon md-icon"></span>
            EIP-5656 Mcopy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_5_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip5656_mcopy/test_mcopy/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Mcopy
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_5_2" id="__nav_10_3_5_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_5_2">
            <span class="md-nav__icon md-icon"></span>
            Test Mcopy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip5656_mcopy/test_mcopy/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_5_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip5656_mcopy/test_mcopy_contexts/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Mcopy Contexts
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_5_3" id="__nav_10_3_5_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_5_3">
            <span class="md-nav__icon md-icon"></span>
            Test Mcopy Contexts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip5656_mcopy/test_mcopy_contexts/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_5_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip5656_mcopy/test_mcopy_memory_expansion/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Mcopy Memory Expansion
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_5_4" id="__nav_10_3_5_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_5_4">
            <span class="md-nav__icon md-icon"></span>
            Test Mcopy Memory Expansion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip5656_mcopy/test_mcopy_memory_expansion/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip6780_selfdestruct/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-6780 Selfdestruct
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_6" id="__nav_10_3_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_6">
            <span class="md-nav__icon md-icon"></span>
            EIP-6780 Selfdestruct
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_6_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip6780_selfdestruct/test_dynamic_create2_selfdestruct_collision/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Dynamic Create2 Selfdestruct Collision
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_6_2" id="__nav_10_3_6_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_6_2">
            <span class="md-nav__icon md-icon"></span>
            Test Dynamic Create2 Selfdestruct Collision
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip6780_selfdestruct/test_dynamic_create2_selfdestruct_collision/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_6_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip6780_selfdestruct/test_reentrancy_selfdestruct_revert/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Reentrancy Selfdestruct Revert
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_6_3" id="__nav_10_3_6_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_6_3">
            <span class="md-nav__icon md-icon"></span>
            Test Reentrancy Selfdestruct Revert
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip6780_selfdestruct/test_reentrancy_selfdestruct_revert/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_6_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip6780_selfdestruct/test_selfdestruct/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Selfdestruct
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_6_4" id="__nav_10_3_6_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_6_4">
            <span class="md-nav__icon md-icon"></span>
            Test Selfdestruct
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip6780_selfdestruct/test_selfdestruct/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_6_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip6780_selfdestruct/test_selfdestruct_revert/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Selfdestruct Revert
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_6_5" id="__nav_10_3_6_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_6_5">
            <span class="md-nav__icon md-icon"></span>
            Test Selfdestruct Revert
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip6780_selfdestruct/test_selfdestruct_revert/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip7516_blobgasfee/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-7516 Blobgasfee
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_7" id="__nav_10_3_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_7">
            <span class="md-nav__icon md-icon"></span>
            EIP-7516 Blobgasfee
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3_7_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cancun/eip7516_blobgasfee/test_blobgasfee_opcode/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Blobgasfee Opcode
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_3_7_2" id="__nav_10_3_7_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_3_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3_7_2">
            <span class="md-nav__icon md-icon"></span>
            Test Blobgasfee Opcode
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cancun/eip7516_blobgasfee/test_blobgasfee_opcode/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../shanghai/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Shanghai
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_4" id="__nav_10_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_4">
            <span class="md-nav__icon md-icon"></span>
            Shanghai
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_4_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../shanghai/eip3651_warm_coinbase/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-3651 Warm Coinbase
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_4_2" id="__nav_10_4_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_4_2">
            <span class="md-nav__icon md-icon"></span>
            EIP-3651 Warm Coinbase
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../shanghai/eip3651_warm_coinbase/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_4_2_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../shanghai/eip3651_warm_coinbase/test_warm_coinbase/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Warm Coinbase
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_4_2_3" id="__nav_10_4_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_4_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_4_2_3">
            <span class="md-nav__icon md-icon"></span>
            Test Warm Coinbase
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../shanghai/eip3651_warm_coinbase/test_warm_coinbase/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_4_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../shanghai/eip3855_push0/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-3855 Push0
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_4_3" id="__nav_10_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_4_3">
            <span class="md-nav__icon md-icon"></span>
            EIP-3855 Push0
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../shanghai/eip3855_push0/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_4_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../shanghai/eip3855_push0/test_push0/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Push0
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_4_3_3" id="__nav_10_4_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_4_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_4_3_3">
            <span class="md-nav__icon md-icon"></span>
            Test Push0
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../shanghai/eip3855_push0/test_push0/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_4_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../shanghai/eip3860_initcode/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-3860 Initcode
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_4_4" id="__nav_10_4_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_4_4">
            <span class="md-nav__icon md-icon"></span>
            EIP-3860 Initcode
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../shanghai/eip3860_initcode/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_4_4_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../shanghai/eip3860_initcode/test_initcode/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Initcode
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_4_4_3" id="__nav_10_4_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_4_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_4_4_3">
            <span class="md-nav__icon md-icon"></span>
            Test Initcode
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../shanghai/eip3860_initcode/test_initcode/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_4_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../shanghai/eip4895_withdrawals/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-4895 Withdrawals
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_4_5" id="__nav_10_4_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_4_5">
            <span class="md-nav__icon md-icon"></span>
            EIP-4895 Withdrawals
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../shanghai/eip4895_withdrawals/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_4_5_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../shanghai/eip4895_withdrawals/test_withdrawals/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Withdrawals
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_4_5_3" id="__nav_10_4_5_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_4_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_4_5_3">
            <span class="md-nav__icon md-icon"></span>
            Test Withdrawals
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../shanghai/eip4895_withdrawals/test_withdrawals/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../paris/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Paris
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_5" id="__nav_10_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_5">
            <span class="md-nav__icon md-icon"></span>
            Paris
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_5_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../paris/security/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Security
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_5_2" id="__nav_10_5_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_5_2">
            <span class="md-nav__icon md-icon"></span>
            Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_5_2_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../paris/security/test_selfdestruct_balance_bug/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Selfdestruct Balance Bug
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_5_2_2" id="__nav_10_5_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_5_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_5_2_2">
            <span class="md-nav__icon md-icon"></span>
            Test Selfdestruct Balance Bug
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../paris/security/test_selfdestruct_balance_bug/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../berlin/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Berlin
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_6" id="__nav_10_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_6">
            <span class="md-nav__icon md-icon"></span>
            Berlin
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_6_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../berlin/eip2930_access_list/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-2930 Access List
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_6_2" id="__nav_10_6_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_6_2">
            <span class="md-nav__icon md-icon"></span>
            EIP-2930 Access List
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_6_2_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../berlin/eip2930_access_list/test_acl/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test ACL
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_6_2_2" id="__nav_10_6_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_6_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_6_2_2">
            <span class="md-nav__icon md-icon"></span>
            Test ACL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../berlin/eip2930_access_list/test_acl/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../istanbul/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Istanbul
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_7" id="__nav_10_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_7">
            <span class="md-nav__icon md-icon"></span>
            Istanbul
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_7_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../istanbul/eip1344_chainid/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-1344 CHAINID
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_7_2" id="__nav_10_7_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_7_2">
            <span class="md-nav__icon md-icon"></span>
            EIP-1344 CHAINID
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_7_2_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../istanbul/eip1344_chainid/test_chainid/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test CHAINID
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_7_2_2" id="__nav_10_7_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_7_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_7_2_2">
            <span class="md-nav__icon md-icon"></span>
            Test CHAINID
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../istanbul/eip1344_chainid/test_chainid/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../constantinople/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Constantinople
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_8" id="__nav_10_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_8">
            <span class="md-nav__icon md-icon"></span>
            Constantinople
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_8_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../constantinople/eip1014_create2/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-1014 Create2
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_8_2" id="__nav_10_8_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_8_2">
            <span class="md-nav__icon md-icon"></span>
            EIP-1014 Create2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../constantinople/eip1014_create2/spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_8_2_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../constantinople/eip1014_create2/test_create_returndata/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Create Returndata
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_8_2_3" id="__nav_10_8_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_8_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_8_2_3">
            <span class="md-nav__icon md-icon"></span>
            Test Create Returndata
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../constantinople/eip1014_create2/test_create_returndata/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_8_2_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../constantinople/eip1014_create2/test_recreate/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Recreate
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_8_2_4" id="__nav_10_8_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_8_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_8_2_4">
            <span class="md-nav__icon md-icon"></span>
            Test Recreate
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../constantinople/eip1014_create2/test_recreate/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../byzantium/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Byzantium
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_9" id="__nav_10_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_9">
            <span class="md-nav__icon md-icon"></span>
            Byzantium
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_9_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../byzantium/eip198_modexp_precompile/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EIP-198 Modexp Precompile
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_9_2" id="__nav_10_9_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_9_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_9_2">
            <span class="md-nav__icon md-icon"></span>
            EIP-198 Modexp Precompile
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_9_2_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../byzantium/eip198_modexp_precompile/test_modexp/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Modexp
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_9_2_2" id="__nav_10_9_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_9_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_9_2_2">
            <span class="md-nav__icon md-icon"></span>
            Test Modexp
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../byzantium/eip198_modexp_precompile/test_modexp/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../homestead/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Homestead
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_10" id="__nav_10_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_10">
            <span class="md-nav__icon md-icon"></span>
            Homestead
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_10_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../homestead/coverage/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Coverage
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_10_2" id="__nav_10_10_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_10_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_10_2">
            <span class="md-nav__icon md-icon"></span>
            Coverage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_10_2_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../homestead/coverage/test_coverage/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Coverage
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_10_2_2" id="__nav_10_10_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_10_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_10_2_2">
            <span class="md-nav__icon md-icon"></span>
            Test Coverage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../homestead/coverage/test_coverage/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_10_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../homestead/yul/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Yul
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_10_3" id="__nav_10_10_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_10_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_10_3">
            <span class="md-nav__icon md-icon"></span>
            Yul
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_10_3_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../homestead/yul/test_yul_example/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Yul Example
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_10_3_2" id="__nav_10_10_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_10_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_10_3_2">
            <span class="md-nav__icon md-icon"></span>
            Test Yul Example
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../homestead/yul/test_yul_example/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_11" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../frontier/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Frontier
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_11" id="__nav_10_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_11">
            <span class="md-nav__icon md-icon"></span>
            Frontier
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_11_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../frontier/opcodes/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Opcodes
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_11_2" id="__nav_10_11_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_11_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_11_2">
            <span class="md-nav__icon md-icon"></span>
            Opcodes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_11_2_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../frontier/opcodes/test_all_opcodes/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test All Opcodes
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_11_2_2" id="__nav_10_11_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_11_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_11_2_2">
            <span class="md-nav__icon md-icon"></span>
            Test All Opcodes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../frontier/opcodes/test_all_opcodes/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_11_2_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../frontier/opcodes/test_call_and_callcode_gas_calculation/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Call And Callcode Gas Calculation
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_11_2_3" id="__nav_10_11_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_11_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_11_2_3">
            <span class="md-nav__icon md-icon"></span>
            Test Call And Callcode Gas Calculation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../frontier/opcodes/test_call_and_callcode_gas_calculation/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_11_2_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../frontier/opcodes/test_dup/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test DUP
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_11_2_4" id="__nav_10_11_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_11_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_11_2_4">
            <span class="md-nav__icon md-icon"></span>
            Test DUP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../frontier/opcodes/test_dup/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_11_2_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../frontier/opcodes/test_selfdestruct/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Selfdestruct
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_11_2_5" id="__nav_10_11_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_10_11_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_11_2_5">
            <span class="md-nav__icon md-icon"></span>
            Test Selfdestruct
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../frontier/opcodes/test_selfdestruct/index/test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_txs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_self_sponsored_set_code" class="md-nav__link">
    <span class="md-ellipsis">
      test_self_sponsored_set_code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_sstore" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_to_sstore
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_zero_address" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_to_zero_address
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_sstore_then_sload" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_to_sstore_then_sload
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_tstore_reentry" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_to_tstore_reentry
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_tstore_available_at_correct_address" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_to_tstore_available_at_correct_address
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_self_destruct" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_to_self_destruct
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_contract_creator" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_to_contract_creator
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_self_caller" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_to_self_caller
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_call_set_code" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_call_set_code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_address_from_set_code" class="md-nav__link">
    <span class="md-ellipsis">
      test_address_from_set_code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_tx_into_self_delegating_set_code" class="md-nav__link">
    <span class="md-ellipsis">
      test_tx_into_self_delegating_set_code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_tx_into_chain_delegating_set_code" class="md-nav__link">
    <span class="md-ellipsis">
      test_tx_into_chain_delegating_set_code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_call_into_self_delegating_set_code" class="md-nav__link">
    <span class="md-ellipsis">
      test_call_into_self_delegating_set_code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_call_into_chain_delegating_set_code" class="md-nav__link">
    <span class="md-ellipsis">
      test_call_into_chain_delegating_set_code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_ext_code_on_set_code" class="md-nav__link">
    <span class="md-ellipsis">
      test_ext_code_on_set_code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_ext_code_on_self_set_code" class="md-nav__link">
    <span class="md-ellipsis">
      test_ext_code_on_self_set_code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_address_and_authority_warm_state" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_address_and_authority_warm_state
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_ext_code_on_self_delegating_set_code" class="md-nav__link">
    <span class="md-ellipsis">
      test_ext_code_on_self_delegating_set_code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_ext_code_on_chain_delegating_set_code" class="md-nav__link">
    <span class="md-ellipsis">
      test_ext_code_on_chain_delegating_set_code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_self_code_on_set_code" class="md-nav__link">
    <span class="md-ellipsis">
      test_self_code_on_set_code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_account_deployed_in_same_tx" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_to_account_deployed_in_same_tx
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_self_destructing_account_deployed_in_same_tx" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_to_self_destructing_account_deployed_in_same_tx
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_multiple_first_valid_authorization_tuples_same_signer" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_multiple_first_valid_authorization_tuples_same_signer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_multiple_valid_authorization_tuples_same_signer_increasing_nonce" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_multiple_valid_authorization_tuples_same_signer_increasing_nonce
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_multiple_valid_authorization_tuples_same_signer_increasing_nonce_self_sponsored" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_multiple_valid_authorization_tuples_same_signer_increasing_nonce_self_sponsored
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_multiple_valid_authorization_tuples_first_invalid_same_signer" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_multiple_valid_authorization_tuples_first_invalid_same_signer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_all_invalid_authorization_tuples" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_all_invalid_authorization_tuples
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_invalid_authorization_tuple" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_invalid_authorization_tuple
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_using_chain_specific_id" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_using_chain_specific_id
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_using_valid_synthetic_signatures" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_using_valid_synthetic_signatures
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_invalid_tx_invalid_auth_signature" class="md-nav__link">
    <span class="md-ellipsis">
      test_invalid_tx_invalid_auth_signature
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_using_invalid_signatures" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_using_invalid_signatures
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_log" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_to_log
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_precompile" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_to_precompile
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_system_contract" class="md-nav__link">
    <span class="md-ellipsis">
      test_set_code_to_system_contract
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_eoa_tx_after_set_code" class="md-nav__link">
    <span class="md-ellipsis">
      test_eoa_tx_after_set_code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_reset_code" class="md-nav__link">
    <span class="md-ellipsis">
      test_reset_code
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="test-set-code-txs">Test Set Code Txs<a class="headerlink" href="#test-set-code-txs" title="Permanent link">&para;</a></h1>
<p>Documentation for <a href="https://github.com/ethereum/execution-spec-tests/blob/b48db3c769a46453fb8932ee93c39be1d8fd6099/tests/prague/eip7702_set_code_tx/test_set_code_txs.py"><code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></a>.</p>
<div class="admonition example">
<p class="admonition-title">Generate fixtures for these test cases for Prague with:</p>
<p>Prague only:
<div class="highlight"><pre><span></span><code><span class="go">fill -v tests/prague/eip7702_set_code_tx/test_set_code_txs.py --fork=Prague --evm-bin=/path/to/evm-tool-dev-version</span>
</code></pre></div>
For all forks up to and including Prague:
<div class="highlight"><pre><span></span><code><span class="go">fill -v tests/prague/eip7702_set_code_tx/test_set_code_txs.py --until=Prague --evm-bin=/path/to/evm-tool-dev-version</span>
</code></pre></div></p>
</div>


<div class="doc doc-object doc-module">



<a id="tests.prague.eip7702_set_code_tx.test_set_code_txs"></a>
    <div class="doc doc-contents first">



<details class="abstract" open>
  <summary>Tests use of set-code transactions from <a href="https://eips.ethereum.org/EIPS/eip-7702">EIP-7702: Set EOA account code for one transaction</a></summary>
  <p>Tests use of set-code transactions from <a href="https://eips.ethereum.org/EIPS/eip-7702">EIP-7702: Set EOA account code for one transaction</a>.</p>
</details>


  <div class="doc doc-children">















<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_self_sponsored_set_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_self_sponsored_set_code</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="n">succeeds</span><span class="p">,</span> <span class="n">tx_value</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_self_sponsored_set_code" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test the executing a self-sponsored set-code transaction.</p>
<p>The transaction is sent to the sender, and the sender is the signer of the only authorization
tuple in the authorization list.</p>
<p>The authorization tuple has a nonce of 1 because the self-sponsored transaction increases the
nonce of the sender from zero to one first.</p>
<p>The expected nonce at the end of the transaction is 2.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;tx_value&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="p">)</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;suffix,succeeds&quot;</span><span class="p">,</span>
    <span class="p">[</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">STOP</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;stop&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">RETURN</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="kc">True</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;return&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">REVERT</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;revert&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">INVALID</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;invalid&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="n">Om</span><span class="o">.</span><span class="n">OOG</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;out-of-gas&quot;</span><span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">test_self_sponsored_set_code</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">suffix</span><span class="p">:</span> <span class="n">Bytecode</span><span class="p">,</span>
    <span class="n">succeeds</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">tx_value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test the executing a self-sponsored set-code transaction.</span>

<span class="sd">    The transaction is sent to the sender, and the sender is the signer of the only authorization</span>
<span class="sd">    tuple in the authorization list.</span>

<span class="sd">    The authorization tuple has a nonce of 1 because the self-sponsored transaction increases the</span>
<span class="sd">    nonce of the sender from zero to one first.</span>

<span class="sd">    The expected nonce at the end of the transaction is 2.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">storage</span> <span class="o">=</span> <span class="n">Storage</span><span class="p">()</span>
    <span class="n">sender</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">()</span>

    <span class="n">set_code</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">storage</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span><span class="n">sender</span><span class="p">),</span> <span class="n">Op</span><span class="o">.</span><span class="n">ORIGIN</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">storage</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span><span class="n">sender</span><span class="p">),</span> <span class="n">Op</span><span class="o">.</span><span class="n">CALLER</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">storage</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span><span class="n">tx_value</span><span class="p">),</span> <span class="n">Op</span><span class="o">.</span><span class="n">CALLVALUE</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">suffix</span>
    <span class="p">)</span>
    <span class="n">set_code_to_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span>
        <span class="n">set_code</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">sender</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="n">tx_value</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">set_code_to_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">sender</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">sender</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">set_code_to_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">storage</span><span class="o">=</span><span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">storage</span><span class="p">}),</span>
            <span class="n">sender</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">set_code_to_address</span><span class="p">),</span>
                <span class="n">storage</span><span class="o">=</span><span class="n">storage</span> <span class="k">if</span> <span class="n">succeeds</span> <span class="k">else</span> <span class="p">{},</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_sstore" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_to_sstore</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="n">succeeds</span><span class="p">,</span> <span class="n">tx_value</span><span class="p">,</span> <span class="n">eoa_balance</span><span class="p">,</span> <span class="n">self_sponsored</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_sstore" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test the executing a simple SSTORE in a set-code transaction.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;eoa_balance,self_sponsored&quot;</span><span class="p">,</span>
    <span class="p">[</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;zero_balance_authority&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;one_wei_balance_authority&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;self_sponsored_tx&quot;</span><span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;tx_value&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="p">)</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;suffix,succeeds&quot;</span><span class="p">,</span>
    <span class="p">[</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">STOP</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;stop&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">RETURN</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="kc">True</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;return&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">REVERT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="kc">False</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;revert&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">INVALID</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;invalid&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="n">Om</span><span class="o">.</span><span class="n">OOG</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;out-of-gas&quot;</span><span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">test_set_code_to_sstore</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">suffix</span><span class="p">:</span> <span class="n">Bytecode</span><span class="p">,</span>
    <span class="n">succeeds</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">tx_value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">eoa_balance</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">self_sponsored</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test the executing a simple SSTORE in a set-code transaction.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">storage</span> <span class="o">=</span> <span class="n">Storage</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">self_sponsored</span><span class="p">:</span>
        <span class="n">sender</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">()</span>
        <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">sender</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">eoa_balance</span><span class="p">)</span>
        <span class="n">sender</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">()</span>

    <span class="n">set_code</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">storage</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span><span class="n">sender</span><span class="p">),</span> <span class="n">Op</span><span class="o">.</span><span class="n">ORIGIN</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">storage</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span><span class="n">sender</span><span class="p">),</span> <span class="n">Op</span><span class="o">.</span><span class="n">CALLER</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">storage</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span><span class="n">tx_value</span><span class="p">),</span> <span class="n">Op</span><span class="o">.</span><span class="n">CALLVALUE</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">suffix</span>
    <span class="p">)</span>
    <span class="n">set_code_to_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span>
        <span class="n">set_code</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">500_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="n">tx_value</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">set_code_to_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span> <span class="k">if</span> <span class="n">self_sponsored</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">sender</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">set_code_to_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">storage</span><span class="p">},</span>
            <span class="p">),</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">2</span> <span class="k">if</span> <span class="n">self_sponsored</span> <span class="k">else</span> <span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">set_code_to_address</span><span class="p">),</span>
                <span class="n">storage</span><span class="o">=</span><span class="n">storage</span> <span class="k">if</span> <span class="n">succeeds</span> <span class="k">else</span> <span class="p">{},</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_zero_address" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_to_zero_address</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_zero_address" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test setting the code to the zero address (0x0) in a set-code transaction.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">test_set_code_to_zero_address</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test setting the code to the zero address (0x0) in a set-code transaction.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">500_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">Address</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">Address</span><span class="p">(</span><span class="mi">0</span><span class="p">)),</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{},</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_sstore_then_sload" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_to_sstore_then_sload</span><span class="p">(</span><span class="n">blockchain_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_sstore_then_sload" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test the executing a simple SSTORE then SLOAD in two separate set-code transactions.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">test_set_code_to_sstore_then_sload</span><span class="p">(</span>
    <span class="n">blockchain_test</span><span class="p">:</span> <span class="n">BlockchainTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test the executing a simple SSTORE then SLOAD in two separate set-code transactions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>
    <span class="n">sender</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">()</span>

    <span class="n">storage_key_1</span> <span class="o">=</span> <span class="mh">0x1</span>
    <span class="n">storage_key_2</span> <span class="o">=</span> <span class="mh">0x2</span>
    <span class="n">storage_value</span> <span class="o">=</span> <span class="mh">0x1234</span>

    <span class="n">set_code_1</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">storage_key_1</span><span class="p">,</span> <span class="n">storage_value</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="n">set_code_1_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">set_code_1</span><span class="p">)</span>

    <span class="n">set_code_2</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">storage_key_2</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">ADD</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">SLOAD</span><span class="p">(</span><span class="n">storage_key_1</span><span class="p">),</span> <span class="mi">1</span><span class="p">))</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="n">set_code_2_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">set_code_2</span><span class="p">)</span>

    <span class="n">tx_1</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">100_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">set_code_1_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">sender</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">tx_2</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">100_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">set_code_2_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">sender</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">block</span> <span class="o">=</span> <span class="n">Block</span><span class="p">(</span>
        <span class="n">txs</span><span class="o">=</span><span class="p">[</span><span class="n">tx_1</span><span class="p">,</span> <span class="n">tx_2</span><span class="p">],</span>
    <span class="p">)</span>

    <span class="n">blockchain_test</span><span class="p">(</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">set_code_2_address</span><span class="p">),</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">storage_key_1</span><span class="p">:</span> <span class="n">storage_value</span><span class="p">,</span>
                    <span class="n">storage_key_2</span><span class="p">:</span> <span class="n">storage_value</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="n">blocks</span><span class="o">=</span><span class="p">[</span><span class="n">block</span><span class="p">],</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_tstore_reentry" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_to_tstore_reentry</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">call_opcode</span><span class="p">,</span> <span class="n">return_opcode</span><span class="p">,</span> <span class="n">evm_code_type</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_tstore_reentry" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test the executing a simple TSTORE in a set-code transaction, which also performs a
re-entry to TLOAD the value.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;return_opcode&quot;</span><span class="p">,</span>
    <span class="p">[</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">RETURN</span><span class="p">,</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">REVERT</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">)</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">with_all_call_opcodes</span>
<span class="k">def</span> <span class="nf">test_set_code_to_tstore_reentry</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">call_opcode</span><span class="p">:</span> <span class="n">Op</span><span class="p">,</span>
    <span class="n">return_opcode</span><span class="p">:</span> <span class="n">Op</span><span class="p">,</span>
    <span class="n">evm_code_type</span><span class="p">:</span> <span class="n">EVMCodeType</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test the executing a simple TSTORE in a set-code transaction, which also performs a</span>
<span class="sd">    re-entry to TLOAD the value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">tload_value</span> <span class="o">=</span> <span class="mh">0x1234</span>
    <span class="n">set_code</span> <span class="o">=</span> <span class="n">Conditional</span><span class="p">(</span>
        <span class="n">condition</span><span class="o">=</span><span class="n">Op</span><span class="o">.</span><span class="n">ISZERO</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">TLOAD</span><span class="p">(</span><span class="mi">1</span><span class="p">)),</span>
        <span class="n">if_true</span><span class="o">=</span><span class="n">Op</span><span class="o">.</span><span class="n">TSTORE</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">tload_value</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">call_opcode</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="n">Op</span><span class="o">.</span><span class="n">ADDRESS</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">RETURNDATACOPY</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">MLOAD</span><span class="p">(</span><span class="mi">0</span><span class="p">)),</span>
        <span class="n">if_false</span><span class="o">=</span><span class="n">Op</span><span class="o">.</span><span class="n">MSTORE</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">TLOAD</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="o">+</span> <span class="n">return_opcode</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">32</span><span class="p">),</span>
        <span class="n">evm_code_type</span><span class="o">=</span><span class="n">evm_code_type</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">set_code_to_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">100_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">set_code_to_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">set_code_to_address</span><span class="p">),</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="p">:</span> <span class="n">tload_value</span><span class="p">},</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_tstore_available_at_correct_address" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_to_tstore_available_at_correct_address</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">call_opcode</span><span class="p">,</span> <span class="n">call_eoa_first</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_tstore_available_at_correct_address" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test TLOADing from slot 2 and then SSTORE this in slot 1, then TSTORE 3 in slot 2.
This is done both from the EOA which is delegated to account A, and then A is called.
The storage should stay empty on both the EOA and the delegated account.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">with_all_call_opcodes</span><span class="p">(</span>
    <span class="n">selector</span><span class="o">=</span><span class="k">lambda</span> <span class="n">call_opcode</span><span class="p">:</span> <span class="n">call_opcode</span>
    <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">Op</span><span class="o">.</span><span class="n">DELEGATECALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">CALLCODE</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">STATICCALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTDELEGATECALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTSTATICCALL</span><span class="p">]</span>
<span class="p">)</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span><span class="s2">&quot;call_eoa_first&quot;</span><span class="p">,</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">test_set_code_to_tstore_available_at_correct_address</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">call_opcode</span><span class="p">:</span> <span class="n">Op</span><span class="p">,</span>
    <span class="n">call_eoa_first</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test TLOADing from slot 2 and then SSTORE this in slot 1, then TSTORE 3 in slot 2.</span>
<span class="sd">    This is done both from the EOA which is delegated to account A, and then A is called.</span>
<span class="sd">    The storage should stay empty on both the EOA and the delegated account.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">storage_slot</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">tload_slot</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">tstore_value</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="n">tstore_check_code</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">storage_slot</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">TLOAD</span><span class="p">(</span><span class="n">tload_slot</span><span class="p">))</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">TSTORE</span><span class="p">(</span>
        <span class="n">tload_slot</span><span class="p">,</span> <span class="n">tstore_value</span>
    <span class="p">)</span>

    <span class="n">set_code_to_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">tstore_check_code</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">make_call</span><span class="p">(</span><span class="n">call_type</span><span class="p">:</span> <span class="n">Op</span><span class="p">,</span> <span class="n">call_eoa</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Bytecode</span><span class="p">:</span>
        <span class="n">call_target</span> <span class="o">=</span> <span class="n">auth_signer</span> <span class="k">if</span> <span class="n">call_eoa</span> <span class="k">else</span> <span class="n">set_code_to_address</span>
        <span class="k">return</span> <span class="n">call_type</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="n">call_target</span><span class="p">)</span>

    <span class="n">chain_code</span> <span class="o">=</span> <span class="n">make_call</span><span class="p">(</span><span class="n">call_type</span><span class="o">=</span><span class="n">call_opcode</span><span class="p">,</span> <span class="n">call_eoa</span><span class="o">=</span><span class="n">call_eoa_first</span><span class="p">)</span> <span class="o">+</span> <span class="n">make_call</span><span class="p">(</span>
        <span class="n">call_type</span><span class="o">=</span><span class="n">call_opcode</span><span class="p">,</span> <span class="n">call_eoa</span><span class="o">=</span><span class="ow">not</span> <span class="n">call_eoa_first</span>
    <span class="p">)</span>

    <span class="n">target_call_chain_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">chain_code</span><span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">100_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">target_call_chain_address</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">set_code_to_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{</span><span class="n">storage_slot</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
            <span class="p">),</span>
            <span class="n">set_code_to_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{</span><span class="n">storage_slot</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_self_destruct" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_to_self_destruct</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">external_sendall_recipient</span><span class="p">,</span> <span class="n">balance</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_self_destruct" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test the executing self-destruct opcode in a set-code transaction.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;external_sendall_recipient&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">],</span>
<span class="p">)</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;balance&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">test_set_code_to_self_destruct</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">external_sendall_recipient</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">balance</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test the executing self-destruct opcode in a set-code transaction.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">balance</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">external_sendall_recipient</span><span class="p">:</span>
        <span class="n">recipient</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">recipient</span> <span class="o">=</span> <span class="n">auth_signer</span>

    <span class="n">set_code_to_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SELFDESTRUCT</span><span class="p">(</span><span class="n">recipient</span><span class="p">))</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">set_code_to_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">post</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
            <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">set_code_to_address</span><span class="p">),</span>
            <span class="n">storage</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
            <span class="n">balance</span><span class="o">=</span><span class="n">balance</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">external_sendall_recipient</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="n">external_sendall_recipient</span> <span class="ow">and</span> <span class="n">balance</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">post</span><span class="p">[</span><span class="n">recipient</span><span class="p">]</span> <span class="o">=</span> <span class="n">Account</span><span class="p">(</span><span class="n">balance</span><span class="o">=</span><span class="n">balance</span><span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="n">post</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_contract_creator" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_to_contract_creator</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">create_opcode</span><span class="p">,</span> <span class="n">evm_code_type</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_contract_creator" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test the executing a contract-creating opcode in a set-code transaction.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">with_all_create_opcodes</span>
<span class="k">def</span> <span class="nf">test_set_code_to_contract_creator</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">create_opcode</span><span class="p">:</span> <span class="n">Op</span><span class="p">,</span>
    <span class="n">evm_code_type</span><span class="p">:</span> <span class="n">EVMCodeType</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test the executing a contract-creating opcode in a set-code transaction.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">storage</span> <span class="o">=</span> <span class="n">Storage</span><span class="p">()</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">deployed_code</span><span class="p">:</span> <span class="n">Bytecode</span> <span class="o">|</span> <span class="n">Container</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="n">initcode</span><span class="p">:</span> <span class="n">Bytecode</span> <span class="o">|</span> <span class="n">Container</span>

    <span class="k">if</span> <span class="n">evm_code_type</span> <span class="o">==</span> <span class="n">EVMCodeType</span><span class="o">.</span><span class="n">LEGACY</span><span class="p">:</span>
        <span class="n">initcode</span> <span class="o">=</span> <span class="n">Initcode</span><span class="p">(</span><span class="n">deploy_code</span><span class="o">=</span><span class="n">deployed_code</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">evm_code_type</span> <span class="o">==</span> <span class="n">EVMCodeType</span><span class="o">.</span><span class="n">EOF_V1</span><span class="p">:</span>
        <span class="n">deployed_code</span> <span class="o">=</span> <span class="n">Container</span><span class="o">.</span><span class="n">Code</span><span class="p">(</span><span class="n">deployed_code</span><span class="p">)</span>
        <span class="n">initcode</span> <span class="o">=</span> <span class="n">Container</span><span class="o">.</span><span class="n">Init</span><span class="p">(</span><span class="n">deploy_container</span><span class="o">=</span><span class="n">deployed_code</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported EVM code type: </span><span class="si">{</span><span class="n">evm_code_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">salt</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">deployed_contract_address</span> <span class="o">=</span> <span class="n">compute_create_address</span><span class="p">(</span>
        <span class="n">address</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">salt</span><span class="o">=</span><span class="n">salt</span><span class="p">,</span>
        <span class="n">initcode</span><span class="o">=</span><span class="n">initcode</span><span class="p">,</span>
        <span class="n">opcode</span><span class="o">=</span><span class="n">create_opcode</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">creator_code</span><span class="p">:</span> <span class="n">Bytecode</span> <span class="o">|</span> <span class="n">Container</span>
    <span class="k">if</span> <span class="n">evm_code_type</span> <span class="o">==</span> <span class="n">EVMCodeType</span><span class="o">.</span><span class="n">LEGACY</span><span class="p">:</span>
        <span class="n">creator_code</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">CALLDATACOPY</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">CALLDATASIZE</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span>
            <span class="n">storage</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span><span class="n">deployed_contract_address</span><span class="p">),</span>
            <span class="n">create_opcode</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">Op</span><span class="o">.</span><span class="n">CALLDATASIZE</span><span class="p">,</span> <span class="n">salt</span><span class="o">=</span><span class="n">salt</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">evm_code_type</span> <span class="o">==</span> <span class="n">EVMCodeType</span><span class="o">.</span><span class="n">EOF_V1</span><span class="p">:</span>
        <span class="n">creator_code</span> <span class="o">=</span> <span class="n">Container</span><span class="p">(</span>
            <span class="n">sections</span><span class="o">=</span><span class="p">[</span>
                <span class="n">Section</span><span class="o">.</span><span class="n">Code</span><span class="p">(</span>
                    <span class="n">code</span><span class="o">=</span><span class="n">Op</span><span class="o">.</span><span class="n">EOFCREATE</span><span class="p">[</span><span class="mi">0</span><span class="p">](</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span><span class="p">(),</span>
                <span class="p">),</span>
                <span class="n">Section</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span>
                    <span class="n">container</span><span class="o">=</span><span class="n">initcode</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">]</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported EVM code type: </span><span class="si">{</span><span class="n">evm_code_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">creator_code_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">creator_code</span><span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">initcode</span> <span class="k">if</span> <span class="n">evm_code_type</span> <span class="o">==</span> <span class="n">EVMCodeType</span><span class="o">.</span><span class="n">LEGACY</span> <span class="k">else</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">creator_code_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">creator_code_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">storage</span><span class="o">=</span><span class="p">{}),</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">creator_code_address</span><span class="p">),</span>
                <span class="n">storage</span><span class="o">=</span><span class="n">storage</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">deployed_contract_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">code</span><span class="o">=</span><span class="n">deployed_code</span><span class="p">,</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{},</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_self_caller" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_to_self_caller</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">call_opcode</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">evm_code_type</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_self_caller" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test the executing a self-call in a set-code transaction.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;value&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="p">)</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">with_all_call_opcodes</span>
<span class="k">def</span> <span class="nf">test_set_code_to_self_caller</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">call_opcode</span><span class="p">:</span> <span class="n">Op</span><span class="p">,</span>
    <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">evm_code_type</span><span class="p">:</span> <span class="n">EVMCodeType</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test the executing a self-call in a set-code transaction.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">storage</span> <span class="o">=</span> <span class="n">Storage</span><span class="p">()</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">static_call</span> <span class="o">=</span> <span class="n">call_opcode</span> <span class="ow">in</span> <span class="p">[</span><span class="n">Op</span><span class="o">.</span><span class="n">STATICCALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTSTATICCALL</span><span class="p">]</span>

    <span class="n">first_entry_slot</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">re_entry_success_slot</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span><span class="ow">not</span> <span class="n">static_call</span><span class="p">)</span>
    <span class="n">re_entry_call_return_code_slot</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span>
        <span class="n">call_return_code</span><span class="p">(</span><span class="n">opcode</span><span class="o">=</span><span class="n">call_opcode</span><span class="p">,</span> <span class="n">success</span><span class="o">=</span><span class="ow">not</span> <span class="n">static_call</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">set_code</span> <span class="o">=</span> <span class="n">Conditional</span><span class="p">(</span>
        <span class="n">condition</span><span class="o">=</span><span class="n">Op</span><span class="o">.</span><span class="n">ISZERO</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">SLOAD</span><span class="p">(</span><span class="n">first_entry_slot</span><span class="p">)),</span>
        <span class="n">if_true</span><span class="o">=</span><span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">first_entry_slot</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">re_entry_call_return_code_slot</span><span class="p">,</span> <span class="n">call_opcode</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span><span class="p">,</span>
        <span class="n">if_false</span><span class="o">=</span><span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">re_entry_success_slot</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span><span class="p">,</span>
        <span class="n">evm_code_type</span><span class="o">=</span><span class="n">evm_code_type</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">set_code_to_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">set_code_to_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">set_code_to_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">storage</span><span class="o">=</span><span class="p">{}),</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">set_code_to_address</span><span class="p">),</span>
                <span class="n">storage</span><span class="o">=</span><span class="n">storage</span><span class="p">,</span>
                <span class="n">balance</span><span class="o">=</span><span class="n">auth_account_start_balance</span> <span class="o">+</span> <span class="n">value</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_call_set_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_call_set_code</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">call_opcode</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_call_set_code" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test the calling a set-code account from another set-code account.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">with_all_call_opcodes</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;value&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">test_set_code_call_set_code</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">call_opcode</span><span class="p">:</span> <span class="n">Op</span><span class="p">,</span>
    <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test the calling a set-code account from another set-code account.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer_1</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>
    <span class="n">storage_1</span> <span class="o">=</span> <span class="n">Storage</span><span class="p">()</span>

    <span class="n">static_call</span> <span class="o">=</span> <span class="n">call_opcode</span> <span class="ow">in</span> <span class="p">[</span><span class="n">Op</span><span class="o">.</span><span class="n">STATICCALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTSTATICCALL</span><span class="p">]</span>

    <span class="n">set_code_1_call_result_slot</span> <span class="o">=</span> <span class="n">storage_1</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span>
        <span class="n">call_return_code</span><span class="p">(</span><span class="n">opcode</span><span class="o">=</span><span class="n">call_opcode</span><span class="p">,</span> <span class="n">success</span><span class="o">=</span><span class="ow">not</span> <span class="n">static_call</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">set_code_1_success</span> <span class="o">=</span> <span class="n">storage_1</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">auth_signer_2</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>
    <span class="n">storage_2</span> <span class="o">=</span> <span class="n">Storage</span><span class="p">()</span><span class="o">.</span><span class="n">set_next_slot</span><span class="p">(</span><span class="n">storage_1</span><span class="o">.</span><span class="n">peek_slot</span><span class="p">())</span>
    <span class="n">set_code_2_success</span> <span class="o">=</span> <span class="n">storage_2</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span><span class="ow">not</span> <span class="n">static_call</span><span class="p">)</span>

    <span class="n">set_code_1</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">set_code_1_call_result_slot</span><span class="p">,</span> <span class="n">call_opcode</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="n">auth_signer_2</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">set_code_1_success</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="p">)</span>
    <span class="n">set_code_to_address_1</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">set_code_1</span><span class="p">)</span>

    <span class="n">set_code_2</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">set_code_2_success</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="n">set_code_to_address_2</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">set_code_2</span><span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer_1</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">set_code_to_address_1</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer_1</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">set_code_to_address_2</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer_2</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">set_code_to_address_1</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">storage</span><span class="o">=</span><span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">storage_1</span><span class="p">}),</span>
            <span class="n">set_code_to_address_2</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">storage</span><span class="o">=</span><span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">storage_2</span><span class="p">}),</span>
            <span class="n">auth_signer_1</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">set_code_to_address_1</span><span class="p">),</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">(</span>
                    <span class="n">storage_1</span>
                    <span class="k">if</span> <span class="n">call_opcode</span> <span class="ow">in</span> <span class="p">[</span><span class="n">Op</span><span class="o">.</span><span class="n">CALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">STATICCALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTSTATICCALL</span><span class="p">]</span>
                    <span class="k">else</span> <span class="n">storage_1</span> <span class="o">+</span> <span class="n">storage_2</span>
                <span class="p">),</span>
                <span class="n">balance</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span> <span class="k">if</span> <span class="n">call_opcode</span> <span class="ow">in</span> <span class="p">[</span><span class="n">Op</span><span class="o">.</span><span class="n">CALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCALL</span><span class="p">]</span> <span class="k">else</span> <span class="n">value</span><span class="p">)</span>
                <span class="o">+</span> <span class="n">auth_account_start_balance</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">auth_signer_2</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">set_code_to_address_2</span><span class="p">),</span>
                <span class="n">storage</span><span class="o">=</span><span class="n">storage_2</span> <span class="k">if</span> <span class="n">call_opcode</span> <span class="ow">in</span> <span class="p">[</span><span class="n">Op</span><span class="o">.</span><span class="n">CALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCALL</span><span class="p">]</span> <span class="k">else</span> <span class="p">{},</span>
                <span class="n">balance</span><span class="o">=</span><span class="p">(</span><span class="n">value</span> <span class="k">if</span> <span class="n">call_opcode</span> <span class="ow">in</span> <span class="p">[</span><span class="n">Op</span><span class="o">.</span><span class="n">CALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCALL</span><span class="p">]</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
                <span class="o">+</span> <span class="n">auth_account_start_balance</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_address_from_set_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_address_from_set_code</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_address_from_set_code" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test the address opcode in a set-code transaction.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">test_address_from_set_code</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test the address opcode in a set-code transaction.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">storage</span> <span class="o">=</span> <span class="n">Storage</span><span class="p">()</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">set_code</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">storage</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">),</span> <span class="n">Op</span><span class="o">.</span><span class="n">ADDRESS</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="n">set_code_to_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">set_code_to_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">set_code_to_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">storage</span><span class="o">=</span><span class="p">{}),</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">set_code_to_address</span><span class="p">),</span>
                <span class="n">storage</span><span class="o">=</span><span class="n">storage</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_tx_into_self_delegating_set_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tx_into_self_delegating_set_code</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_tx_into_self_delegating_set_code" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test a transaction that has entry-point into a set-code address that delegates to itself.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">test_tx_into_self_delegating_set_code</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test a transaction that has entry-point into a set-code address that delegates to itself.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">),</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_tx_into_chain_delegating_set_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tx_into_chain_delegating_set_code</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_tx_into_chain_delegating_set_code" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test a transaction that has entry-point into a set-code address that delegates to itself.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">test_tx_into_chain_delegating_set_code</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test a transaction that has entry-point into a set-code address that delegates to itself.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer_1</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>
    <span class="n">auth_signer_2</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer_1</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">auth_signer_2</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer_1</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">auth_signer_1</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer_2</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer_1</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">auth_signer_2</span><span class="p">)),</span>
            <span class="n">auth_signer_2</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">auth_signer_1</span><span class="p">)),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_call_into_self_delegating_set_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_call_into_self_delegating_set_code</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">call_opcode</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_call_into_self_delegating_set_code" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test a transaction that has entry-point into a set-code address that delegates to itself.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">with_all_call_opcodes</span>
<span class="k">def</span> <span class="nf">test_call_into_self_delegating_set_code</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">call_opcode</span><span class="p">:</span> <span class="n">Op</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test a transaction that has entry-point into a set-code address that delegates to itself.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">storage</span> <span class="o">=</span> <span class="n">Storage</span><span class="p">()</span>
    <span class="n">entry_code</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span>
            <span class="n">storage</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span><span class="n">call_return_code</span><span class="p">(</span><span class="n">opcode</span><span class="o">=</span><span class="n">call_opcode</span><span class="p">,</span> <span class="n">success</span><span class="o">=</span><span class="kc">False</span><span class="p">)),</span>
            <span class="n">call_opcode</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="p">)</span>
    <span class="n">entry_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">entry_code</span><span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">entry_address</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">entry_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">storage</span><span class="o">=</span><span class="n">storage</span><span class="p">),</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">)),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_call_into_chain_delegating_set_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_call_into_chain_delegating_set_code</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">call_opcode</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_call_into_chain_delegating_set_code" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test a transaction that has entry-point into a set-code address that delegates to itself.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">with_all_call_opcodes</span>
<span class="k">def</span> <span class="nf">test_call_into_chain_delegating_set_code</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">call_opcode</span><span class="p">:</span> <span class="n">Op</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test a transaction that has entry-point into a set-code address that delegates to itself.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer_1</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>
    <span class="n">auth_signer_2</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">storage</span> <span class="o">=</span> <span class="n">Storage</span><span class="p">()</span>
    <span class="n">entry_code</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span>
            <span class="n">storage</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span><span class="n">call_return_code</span><span class="p">(</span><span class="n">opcode</span><span class="o">=</span><span class="n">call_opcode</span><span class="p">,</span> <span class="n">success</span><span class="o">=</span><span class="kc">False</span><span class="p">)),</span>
            <span class="n">call_opcode</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="n">auth_signer_1</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="p">)</span>
    <span class="n">entry_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">entry_code</span><span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">entry_address</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">auth_signer_2</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer_1</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">auth_signer_1</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer_2</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">entry_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">storage</span><span class="o">=</span><span class="n">storage</span><span class="p">),</span>
            <span class="n">auth_signer_1</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">auth_signer_2</span><span class="p">)),</span>
            <span class="n">auth_signer_2</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">auth_signer_1</span><span class="p">)),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_ext_code_on_set_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_ext_code_on_set_code</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">balance</span><span class="p">,</span> <span class="n">set_code_type</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_ext_code_on_set_code" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test different ext*code operations on a set-code address.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;balance&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="p">)</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;set_code_type&quot;</span><span class="p">,</span>
    <span class="nb">list</span><span class="p">(</span><span class="n">AddressType</span><span class="p">),</span>
    <span class="n">ids</span><span class="o">=</span><span class="k">lambda</span> <span class="n">address_type</span><span class="p">:</span> <span class="n">address_type</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">test_ext_code_on_set_code</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">balance</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">set_code_type</span><span class="p">:</span> <span class="n">AddressType</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test different ext*code operations on a set-code address.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">balance</span><span class="p">)</span>

    <span class="n">slot</span> <span class="o">=</span> <span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">slot_ext_code_size_result</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_ext_code_hash_result</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_ext_code_copy_result</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_ext_balance_result</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>

    <span class="n">callee_code</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_code_size_result</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODESIZE</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_code_hash_result</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODEHASH</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODECOPY</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODESIZE</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_code_copy_result</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">MLOAD</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_balance_result</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">BALANCE</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="p">)</span>
    <span class="n">callee_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">callee_code</span><span class="p">)</span>

    <span class="n">set_code_to_address</span><span class="p">:</span> <span class="n">Address</span>
    <span class="n">set_code</span><span class="p">:</span> <span class="n">Bytecode</span> <span class="o">|</span> <span class="n">Bytes</span>
    <span class="k">match</span> <span class="n">set_code_type</span><span class="p">:</span>
        <span class="k">case</span> <span class="n">AddressType</span><span class="o">.</span><span class="n">EMPTY_ACCOUNT</span><span class="p">:</span>
            <span class="n">set_code</span> <span class="o">=</span> <span class="n">Bytecode</span><span class="p">()</span>
            <span class="n">set_code_to_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">case</span> <span class="n">AddressType</span><span class="o">.</span><span class="n">EOA</span><span class="p">:</span>
            <span class="n">set_code</span> <span class="o">=</span> <span class="n">Bytecode</span><span class="p">()</span>
            <span class="n">set_code_to_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">case</span> <span class="n">AddressType</span><span class="o">.</span><span class="n">EOA_WITH_SET_CODE</span><span class="p">:</span>
            <span class="n">set_code_account</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">set_code</span> <span class="o">=</span> <span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">set_code_account</span><span class="p">)</span>
            <span class="n">set_code_to_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">delegation</span><span class="o">=</span><span class="n">set_code_account</span><span class="p">)</span>
        <span class="k">case</span> <span class="n">AddressType</span><span class="o">.</span><span class="n">CONTRACT</span><span class="p">:</span>
            <span class="n">set_code</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
            <span class="n">set_code_to_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span>
        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported set code type: </span><span class="si">{</span><span class="n">set_code_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">callee_storage</span> <span class="o">=</span> <span class="n">Storage</span><span class="p">()</span>
    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_ext_code_size_result</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span>
    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_ext_code_hash_result</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">set_code</span><span class="o">.</span><span class="n">keccak256</span><span class="p">()</span> <span class="k">if</span> <span class="n">set_code_type</span> <span class="o">!=</span> <span class="n">AddressType</span><span class="o">.</span><span class="n">EMPTY_ACCOUNT</span> <span class="k">else</span> <span class="mi">0</span>
    <span class="p">)</span>
    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_ext_code_copy_result</span><span class="p">]</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x00</span><span class="s2">&quot;</span><span class="p">)[:</span><span class="mi">32</span><span class="p">]</span>
    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_ext_balance_result</span><span class="p">]</span> <span class="o">=</span> <span class="n">balance</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">callee_address</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">set_code_to_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">set_code_to_address</span><span class="p">:</span> <span class="p">(</span>
                <span class="n">Account</span><span class="o">.</span><span class="n">NONEXISTENT</span>
                <span class="k">if</span> <span class="n">set_code_type</span> <span class="o">==</span> <span class="n">AddressType</span><span class="o">.</span><span class="n">EMPTY_ACCOUNT</span>
                <span class="k">else</span> <span class="n">Account</span><span class="p">(</span><span class="n">storage</span><span class="o">=</span><span class="p">{})</span>
            <span class="p">),</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">set_code_to_address</span><span class="p">),</span>
                <span class="n">balance</span><span class="o">=</span><span class="n">balance</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">callee_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">storage</span><span class="o">=</span><span class="n">callee_storage</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_ext_code_on_self_set_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_ext_code_on_self_set_code</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">balance</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_ext_code_on_self_set_code" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test different ext*code operations on self set-code address.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;balance&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">test_ext_code_on_self_set_code</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">balance</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test different ext*code operations on self set-code address.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">balance</span><span class="p">)</span>

    <span class="n">slot</span> <span class="o">=</span> <span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">slot_ext_code_size_result</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_ext_code_hash_result</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_ext_code_copy_result</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_ext_balance_result</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>

    <span class="n">set_code</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_code_size_result</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODESIZE</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_code_hash_result</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODEHASH</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODECOPY</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODESIZE</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_code_copy_result</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">MLOAD</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_balance_result</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">BALANCE</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="p">)</span>
    <span class="n">set_code_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span>

    <span class="n">set_code_storage</span> <span class="o">=</span> <span class="n">Storage</span><span class="p">()</span>
    <span class="n">set_code_storage</span><span class="p">[</span><span class="n">slot_ext_code_size_result</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span>
    <span class="n">set_code_storage</span><span class="p">[</span><span class="n">slot_ext_code_hash_result</span><span class="p">]</span> <span class="o">=</span> <span class="n">set_code</span><span class="o">.</span><span class="n">keccak256</span><span class="p">()</span>
    <span class="n">set_code_storage</span><span class="p">[</span><span class="n">slot_ext_code_copy_result</span><span class="p">]</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x00</span><span class="s2">&quot;</span><span class="p">)[:</span><span class="mi">32</span><span class="p">]</span>
    <span class="n">set_code_storage</span><span class="p">[</span><span class="n">slot_ext_balance_result</span><span class="p">]</span> <span class="o">=</span> <span class="n">balance</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">set_code_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">storage</span><span class="o">=</span><span class="n">set_code_storage</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_address_and_authority_warm_state" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_address_and_authority_warm_state</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">call_opcode</span><span class="p">,</span> <span class="n">set_code_address_first</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_address_and_authority_warm_state" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test set to code address and authority warm status after a call to
authority address, or viceversa.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">with_all_call_opcodes</span><span class="p">(</span>
    <span class="n">selector</span><span class="o">=</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="n">opcode</span><span class="p">:</span> <span class="n">opcode</span>
        <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">Op</span><span class="o">.</span><span class="n">STATICCALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">CALLCODE</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">DELEGATECALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTDELEGATECALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTSTATICCALL</span><span class="p">]</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;set_code_address_first&quot;</span><span class="p">,</span>
    <span class="p">[</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;call_set_code_address_first_then_authority&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;call_authority_first_then_set_code_address&quot;</span><span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">test_set_code_address_and_authority_warm_state</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">call_opcode</span><span class="p">:</span> <span class="n">Op</span><span class="p">,</span>
    <span class="n">set_code_address_first</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test set to code address and authority warm status after a call to</span>
<span class="sd">    authority address, or viceversa.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">slot</span> <span class="o">=</span> <span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">slot_call_success</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_set_code_to_warm_state</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_authority_warm_state</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>

    <span class="n">set_code</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="n">set_code_to_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span>

    <span class="n">overhead_cost</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">call_opcode</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">if</span> <span class="n">call_opcode</span> <span class="o">==</span> <span class="n">Op</span><span class="o">.</span><span class="n">CALL</span><span class="p">:</span>
        <span class="n">overhead_cost</span> <span class="o">-=</span> <span class="mi">1</span>  <span class="c1"># GAS opcode is less expensive than a PUSH</span>

    <span class="n">code_gas_measure_set_code</span> <span class="o">=</span> <span class="n">CodeGasMeasure</span><span class="p">(</span>
        <span class="n">code</span><span class="o">=</span><span class="n">call_opcode</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="n">set_code_to_address</span><span class="p">),</span>
        <span class="n">overhead_cost</span><span class="o">=</span><span class="n">overhead_cost</span><span class="p">,</span>
        <span class="n">extra_stack_items</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">sstore_key</span><span class="o">=</span><span class="n">slot_set_code_to_warm_state</span><span class="p">,</span>
        <span class="n">stop</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">code_gas_measure_authority</span> <span class="o">=</span> <span class="n">CodeGasMeasure</span><span class="p">(</span>
        <span class="n">code</span><span class="o">=</span><span class="n">call_opcode</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">),</span>
        <span class="n">overhead_cost</span><span class="o">=</span><span class="n">overhead_cost</span><span class="p">,</span>
        <span class="n">extra_stack_items</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">sstore_key</span><span class="o">=</span><span class="n">slot_authority_warm_state</span><span class="p">,</span>
        <span class="n">stop</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">callee_code</span> <span class="o">=</span> <span class="n">Bytecode</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">set_code_address_first</span><span class="p">:</span>
        <span class="n">callee_code</span> <span class="o">+=</span> <span class="n">code_gas_measure_set_code</span> <span class="o">+</span> <span class="n">code_gas_measure_authority</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">callee_code</span> <span class="o">+=</span> <span class="n">code_gas_measure_authority</span> <span class="o">+</span> <span class="n">code_gas_measure_set_code</span>
    <span class="n">callee_code</span> <span class="o">+=</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_call_success</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>

    <span class="n">callee_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">callee_code</span><span class="p">)</span>
    <span class="n">callee_storage</span> <span class="o">=</span> <span class="n">Storage</span><span class="p">()</span>
    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_call_success</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_set_code_to_warm_state</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2_600</span> <span class="k">if</span> <span class="n">set_code_address_first</span> <span class="k">else</span> <span class="mi">100</span>
    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_authority_warm_state</span><span class="p">]</span> <span class="o">=</span> <span class="mi">200</span> <span class="k">if</span> <span class="n">set_code_address_first</span> <span class="k">else</span> <span class="mi">2_700</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">1_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">callee_address</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">set_code_to_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">callee_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">storage</span><span class="o">=</span><span class="n">callee_storage</span><span class="p">),</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">set_code_to_address</span><span class="p">),</span>
                <span class="n">balance</span><span class="o">=</span><span class="n">auth_account_start_balance</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_ext_code_on_self_delegating_set_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_ext_code_on_self_delegating_set_code</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">balance</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_ext_code_on_self_delegating_set_code" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test different ext*code operations on a set-code address that delegates to itself.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;balance&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">test_ext_code_on_self_delegating_set_code</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">balance</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test different ext*code operations on a set-code address that delegates to itself.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">balance</span><span class="p">)</span>

    <span class="n">slot</span> <span class="o">=</span> <span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">slot_ext_code_size_result</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_ext_code_hash_result</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_ext_code_copy_result</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_ext_balance_result</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>

    <span class="n">callee_code</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_code_size_result</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODESIZE</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_code_hash_result</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODEHASH</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODECOPY</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODESIZE</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_code_copy_result</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">MLOAD</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_balance_result</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">BALANCE</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="p">)</span>
    <span class="n">callee_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">callee_code</span><span class="p">)</span>
    <span class="n">callee_storage</span> <span class="o">=</span> <span class="n">Storage</span><span class="p">()</span>

    <span class="n">set_code</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\xef\x01\x00</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">)</span>
    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_ext_code_size_result</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span>
    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_ext_code_hash_result</span><span class="p">]</span> <span class="o">=</span> <span class="n">keccak256</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span>
    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_ext_code_copy_result</span><span class="p">]</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x00</span><span class="s2">&quot;</span><span class="p">)[:</span><span class="mi">32</span><span class="p">]</span>
    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_ext_balance_result</span><span class="p">]</span> <span class="o">=</span> <span class="n">balance</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">callee_address</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>  <span class="c1"># TODO: Test with sender as auth_signer</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">auth_signer</span><span class="p">),</span>
                <span class="n">balance</span><span class="o">=</span><span class="n">balance</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">callee_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">storage</span><span class="o">=</span><span class="n">callee_storage</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_ext_code_on_chain_delegating_set_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_ext_code_on_chain_delegating_set_code</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_ext_code_on_chain_delegating_set_code" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test different ext*code operations on a set-code address that references another delegated
address.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">test_ext_code_on_chain_delegating_set_code</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test different ext*code operations on a set-code address that references another delegated</span>
<span class="sd">    address.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer_1_balance</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">auth_signer_2_balance</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">auth_signer_1</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_signer_1_balance</span><span class="p">)</span>
    <span class="n">auth_signer_2</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_signer_2_balance</span><span class="p">)</span>

    <span class="n">slot</span> <span class="o">=</span> <span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">slot_ext_code_size_result_1</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_ext_code_hash_result_1</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_ext_code_copy_result_1</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_ext_balance_result_1</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>

    <span class="n">slot_ext_code_size_result_2</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_ext_code_hash_result_2</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_ext_code_copy_result_2</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_ext_balance_result_2</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>

    <span class="n">callee_code</span> <span class="o">=</span> <span class="p">(</span>
        <span class="c1"># Address 1</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_code_size_result_1</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODESIZE</span><span class="p">(</span><span class="n">auth_signer_1</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_code_hash_result_1</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODEHASH</span><span class="p">(</span><span class="n">auth_signer_1</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODECOPY</span><span class="p">(</span><span class="n">auth_signer_1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODESIZE</span><span class="p">(</span><span class="n">auth_signer_1</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_code_copy_result_1</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">MLOAD</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_balance_result_1</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">BALANCE</span><span class="p">(</span><span class="n">auth_signer_1</span><span class="p">))</span>
        <span class="c1"># Address 2</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_code_size_result_2</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODESIZE</span><span class="p">(</span><span class="n">auth_signer_2</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_code_hash_result_2</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODEHASH</span><span class="p">(</span><span class="n">auth_signer_2</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODECOPY</span><span class="p">(</span><span class="n">auth_signer_2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCODESIZE</span><span class="p">(</span><span class="n">auth_signer_2</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_code_copy_result_2</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">MLOAD</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_ext_balance_result_2</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">BALANCE</span><span class="p">(</span><span class="n">auth_signer_2</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="p">)</span>
    <span class="n">callee_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">callee_code</span><span class="p">)</span>
    <span class="n">callee_storage</span> <span class="o">=</span> <span class="n">Storage</span><span class="p">()</span>

    <span class="n">set_code_1</span> <span class="o">=</span> <span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">auth_signer_2</span><span class="p">)</span>
    <span class="n">set_code_2</span> <span class="o">=</span> <span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">auth_signer_1</span><span class="p">)</span>

    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_ext_code_size_result_1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">set_code_2</span><span class="p">)</span>
    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_ext_code_hash_result_1</span><span class="p">]</span> <span class="o">=</span> <span class="n">keccak256</span><span class="p">(</span><span class="n">set_code_2</span><span class="p">)</span>
    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_ext_code_copy_result_1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">set_code_2</span><span class="p">)</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x00</span><span class="s2">&quot;</span><span class="p">)[:</span><span class="mi">32</span><span class="p">]</span>
    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_ext_balance_result_1</span><span class="p">]</span> <span class="o">=</span> <span class="n">auth_signer_1_balance</span>

    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_ext_code_size_result_2</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">set_code_1</span><span class="p">)</span>
    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_ext_code_hash_result_2</span><span class="p">]</span> <span class="o">=</span> <span class="n">keccak256</span><span class="p">(</span><span class="n">set_code_1</span><span class="p">)</span>
    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_ext_code_copy_result_2</span><span class="p">]</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">set_code_1</span><span class="p">)</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x00</span><span class="s2">&quot;</span><span class="p">)[:</span><span class="mi">32</span><span class="p">]</span>
    <span class="n">callee_storage</span><span class="p">[</span><span class="n">slot_ext_balance_result_2</span><span class="p">]</span> <span class="o">=</span> <span class="n">auth_signer_2_balance</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">callee_address</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">auth_signer_2</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer_1</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">auth_signer_1</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer_2</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>  <span class="c1"># TODO: Test with sender as auth_signer</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer_1</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">auth_signer_2</span><span class="p">),</span>
                <span class="n">balance</span><span class="o">=</span><span class="n">auth_signer_1_balance</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">auth_signer_2</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">auth_signer_1</span><span class="p">),</span>
                <span class="n">balance</span><span class="o">=</span><span class="n">auth_signer_2_balance</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">callee_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">storage</span><span class="o">=</span><span class="n">callee_storage</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_self_code_on_set_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_self_code_on_set_code</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">balance</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_self_code_on_set_code" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test codesize and codecopy operations on a set-code address.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;balance&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">test_self_code_on_set_code</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">balance</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test codesize and codecopy operations on a set-code address.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">balance</span><span class="p">)</span>

    <span class="n">slot</span> <span class="o">=</span> <span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">slot_code_size_result</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_code_copy_result</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
    <span class="n">slot_self_balance_result</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>

    <span class="n">set_code</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_code_size_result</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">CODESIZE</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">CODECOPY</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">CODESIZE</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_code_copy_result</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">MLOAD</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">slot_self_balance_result</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">SELFBALANCE</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="p">)</span>
    <span class="n">set_code_to_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span>

    <span class="n">storage</span> <span class="o">=</span> <span class="n">Storage</span><span class="p">()</span>
    <span class="n">storage</span><span class="p">[</span><span class="n">slot_code_size_result</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span>
    <span class="n">storage</span><span class="p">[</span><span class="n">slot_code_copy_result</span><span class="p">]</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x00</span><span class="s2">&quot;</span><span class="p">)[:</span><span class="mi">32</span><span class="p">]</span>
    <span class="n">storage</span><span class="p">[</span><span class="n">slot_self_balance_result</span><span class="p">]</span> <span class="o">=</span> <span class="n">balance</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">set_code_to_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">set_code_to_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span><span class="n">storage</span><span class="o">=</span><span class="p">{}),</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">set_code_to_address</span><span class="p">),</span>
                <span class="n">storage</span><span class="o">=</span><span class="n">storage</span><span class="p">,</span>
                <span class="n">balance</span><span class="o">=</span><span class="n">balance</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_account_deployed_in_same_tx" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_to_account_deployed_in_same_tx</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">create_opcode</span><span class="p">,</span> <span class="n">evm_code_type</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_account_deployed_in_same_tx" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test setting the code of an account to an address that is deployed in the same transaction,
and test calling the set-code address and the deployed contract.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">with_all_create_opcodes</span>
<span class="k">def</span> <span class="nf">test_set_code_to_account_deployed_in_same_tx</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">create_opcode</span><span class="p">:</span> <span class="n">Op</span><span class="p">,</span>
    <span class="n">evm_code_type</span><span class="p">:</span> <span class="n">EVMCodeType</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test setting the code of an account to an address that is deployed in the same transaction,</span>
<span class="sd">    and test calling the set-code address and the deployed contract.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">success_slot</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">deployed_code</span><span class="p">:</span> <span class="n">Bytecode</span> <span class="o">|</span> <span class="n">Container</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">success_slot</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="n">initcode</span><span class="p">:</span> <span class="n">Bytecode</span> <span class="o">|</span> <span class="n">Container</span>

    <span class="k">if</span> <span class="n">evm_code_type</span> <span class="o">==</span> <span class="n">EVMCodeType</span><span class="o">.</span><span class="n">LEGACY</span><span class="p">:</span>
        <span class="n">initcode</span> <span class="o">=</span> <span class="n">Initcode</span><span class="p">(</span><span class="n">deploy_code</span><span class="o">=</span><span class="n">deployed_code</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">evm_code_type</span> <span class="o">==</span> <span class="n">EVMCodeType</span><span class="o">.</span><span class="n">EOF_V1</span><span class="p">:</span>
        <span class="n">deployed_code</span> <span class="o">=</span> <span class="n">Container</span><span class="o">.</span><span class="n">Code</span><span class="p">(</span><span class="n">deployed_code</span><span class="p">)</span>
        <span class="n">initcode</span> <span class="o">=</span> <span class="n">Container</span><span class="o">.</span><span class="n">Init</span><span class="p">(</span><span class="n">deploy_container</span><span class="o">=</span><span class="n">deployed_code</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported EVM code type: </span><span class="si">{</span><span class="n">evm_code_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">deployed_contract_address_slot</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">signer_call_return_code_slot</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">deployed_contract_call_return_code_slot</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="n">salt</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">call_opcode</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">CALL</span> <span class="k">if</span> <span class="n">evm_code_type</span> <span class="o">==</span> <span class="n">EVMCodeType</span><span class="o">.</span><span class="n">LEGACY</span> <span class="k">else</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTCALL</span>

    <span class="k">if</span> <span class="n">create_opcode</span> <span class="o">==</span> <span class="n">Op</span><span class="o">.</span><span class="n">EOFCREATE</span><span class="p">:</span>
        <span class="n">create_opcode</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">EOFCREATE</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># type: ignore</span>

    <span class="n">contract_creator_code</span><span class="p">:</span> <span class="n">Bytecode</span> <span class="o">|</span> <span class="n">Container</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">CALLDATACOPY</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">CALLDATASIZE</span><span class="p">)</span>  <span class="c1"># NOOP on EOF</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span>
            <span class="n">deployed_contract_address_slot</span><span class="p">,</span>
            <span class="n">create_opcode</span><span class="p">(</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">salt</span><span class="o">=</span><span class="n">salt</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">Op</span><span class="o">.</span><span class="n">CALLDATASIZE</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">signer_call_return_code_slot</span><span class="p">,</span> <span class="n">call_opcode</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">))</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span>
            <span class="n">deployed_contract_call_return_code_slot</span><span class="p">,</span>
            <span class="n">call_opcode</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="n">Op</span><span class="o">.</span><span class="n">SLOAD</span><span class="p">(</span><span class="n">deployed_contract_address_slot</span><span class="p">)),</span>
        <span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span><span class="p">()</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">evm_code_type</span> <span class="o">==</span> <span class="n">EVMCodeType</span><span class="o">.</span><span class="n">EOF_V1</span><span class="p">:</span>
        <span class="n">contract_creator_code</span> <span class="o">=</span> <span class="n">Container</span><span class="p">(</span>
            <span class="n">sections</span><span class="o">=</span><span class="p">[</span>
                <span class="n">Section</span><span class="o">.</span><span class="n">Code</span><span class="p">(</span><span class="n">contract_creator_code</span><span class="p">),</span>
                <span class="n">Section</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="n">container</span><span class="o">=</span><span class="n">initcode</span><span class="p">),</span>
            <span class="p">],</span>
        <span class="p">)</span>

    <span class="n">contract_creator_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">contract_creator_code</span><span class="p">)</span>

    <span class="n">deployed_contract_address</span> <span class="o">=</span> <span class="n">compute_create_address</span><span class="p">(</span>
        <span class="n">address</span><span class="o">=</span><span class="n">contract_creator_address</span><span class="p">,</span>
        <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">salt</span><span class="o">=</span><span class="n">salt</span><span class="p">,</span>
        <span class="n">initcode</span><span class="o">=</span><span class="n">initcode</span><span class="p">,</span>
        <span class="n">opcode</span><span class="o">=</span><span class="n">create_opcode</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">contract_creator_address</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">initcode</span> <span class="k">if</span> <span class="n">evm_code_type</span> <span class="o">==</span> <span class="n">EVMCodeType</span><span class="o">.</span><span class="n">LEGACY</span> <span class="k">else</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">deployed_contract_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">deployed_contract_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{</span><span class="n">success_slot</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
            <span class="p">),</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">deployed_contract_address</span><span class="p">),</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{</span><span class="n">success_slot</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
            <span class="p">),</span>
            <span class="n">contract_creator_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">deployed_contract_address_slot</span><span class="p">:</span> <span class="n">deployed_contract_address</span><span class="p">,</span>
                    <span class="n">signer_call_return_code_slot</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="n">deployed_contract_call_return_code_slot</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_self_destructing_account_deployed_in_same_tx" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_to_self_destructing_account_deployed_in_same_tx</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">create_opcode</span><span class="p">,</span> <span class="n">call_set_code_first</span><span class="p">,</span> <span class="n">external_sendall_recipient</span><span class="p">,</span> <span class="n">balance</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_self_destructing_account_deployed_in_same_tx" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test setting the code of an account to an account that contains the SELFDESTRUCT opcode and
was deployed in the same transaction, and test calling the set-code address and the deployed
in both sequence orders.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span>
<span class="normal">1644</span>
<span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span>
<span class="normal">1651</span>
<span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;external_sendall_recipient&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">],</span>
<span class="p">)</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;balance&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="p">)</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span><span class="s2">&quot;call_set_code_first&quot;</span><span class="p">,</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">])</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;create_opcode&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">Op</span><span class="o">.</span><span class="n">CREATE</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">CREATE2</span><span class="p">]</span>
<span class="p">)</span>  <span class="c1"># EOF code does not support SELFDESTRUCT</span>
<span class="k">def</span> <span class="nf">test_set_code_to_self_destructing_account_deployed_in_same_tx</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">create_opcode</span><span class="p">:</span> <span class="n">Op</span><span class="p">,</span>
    <span class="n">call_set_code_first</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">external_sendall_recipient</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">balance</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test setting the code of an account to an account that contains the SELFDESTRUCT opcode and</span>
<span class="sd">    was deployed in the same transaction, and test calling the set-code address and the deployed</span>
<span class="sd">    in both sequence orders.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">balance</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">external_sendall_recipient</span><span class="p">:</span>
        <span class="n">recipient</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">recipient</span> <span class="o">=</span> <span class="n">auth_signer</span>

    <span class="n">success_slot</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">deployed_code</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">success_slot</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SELFDESTRUCT</span><span class="p">(</span><span class="n">recipient</span><span class="p">)</span>
    <span class="n">initcode</span> <span class="o">=</span> <span class="n">Initcode</span><span class="p">(</span><span class="n">deploy_code</span><span class="o">=</span><span class="n">deployed_code</span><span class="p">)</span>

    <span class="n">deployed_contract_address_slot</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">signer_call_return_code_slot</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">deployed_contract_call_return_code_slot</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="n">salt</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">call_opcode</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">CALL</span>

    <span class="n">contract_creator_code</span><span class="p">:</span> <span class="n">Bytecode</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">CALLDATACOPY</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">CALLDATASIZE</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span>
        <span class="n">deployed_contract_address_slot</span><span class="p">,</span>
        <span class="n">create_opcode</span><span class="p">(</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">salt</span><span class="o">=</span><span class="n">salt</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">Op</span><span class="o">.</span><span class="n">CALLDATASIZE</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">call_set_code_first</span><span class="p">:</span>
        <span class="n">contract_creator_code</span> <span class="o">+=</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span>
            <span class="n">signer_call_return_code_slot</span><span class="p">,</span> <span class="n">call_opcode</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">)</span>
        <span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span>
            <span class="n">deployed_contract_call_return_code_slot</span><span class="p">,</span>
            <span class="n">call_opcode</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="n">Op</span><span class="o">.</span><span class="n">SLOAD</span><span class="p">(</span><span class="n">deployed_contract_address_slot</span><span class="p">)),</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">contract_creator_code</span> <span class="o">+=</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span>
            <span class="n">deployed_contract_call_return_code_slot</span><span class="p">,</span>
            <span class="n">call_opcode</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="n">Op</span><span class="o">.</span><span class="n">SLOAD</span><span class="p">(</span><span class="n">deployed_contract_address_slot</span><span class="p">)),</span>
        <span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">signer_call_return_code_slot</span><span class="p">,</span> <span class="n">call_opcode</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">))</span>

    <span class="n">contract_creator_code</span> <span class="o">+=</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>

    <span class="n">contract_creator_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">contract_creator_code</span><span class="p">)</span>

    <span class="n">deployed_contract_address</span> <span class="o">=</span> <span class="n">compute_create_address</span><span class="p">(</span>
        <span class="n">address</span><span class="o">=</span><span class="n">contract_creator_address</span><span class="p">,</span>
        <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">salt</span><span class="o">=</span><span class="n">salt</span><span class="p">,</span>
        <span class="n">initcode</span><span class="o">=</span><span class="n">initcode</span><span class="p">,</span>
        <span class="n">opcode</span><span class="o">=</span><span class="n">create_opcode</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">contract_creator_address</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">initcode</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">deployed_contract_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">post</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">deployed_contract_address</span><span class="p">:</span> <span class="n">Account</span><span class="o">.</span><span class="n">NONEXISTENT</span><span class="p">,</span>
        <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
            <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">deployed_contract_address</span><span class="p">),</span>
            <span class="n">storage</span><span class="o">=</span><span class="p">{</span><span class="n">success_slot</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
            <span class="n">balance</span><span class="o">=</span><span class="n">balance</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">external_sendall_recipient</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">contract_creator_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
            <span class="n">storage</span><span class="o">=</span><span class="p">{</span>
                <span class="n">deployed_contract_address_slot</span><span class="p">:</span> <span class="n">deployed_contract_address</span><span class="p">,</span>
                <span class="n">signer_call_return_code_slot</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="n">deployed_contract_call_return_code_slot</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">),</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="n">external_sendall_recipient</span> <span class="ow">and</span> <span class="n">balance</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">post</span><span class="p">[</span><span class="n">recipient</span><span class="p">]</span> <span class="o">=</span> <span class="n">Account</span><span class="p">(</span><span class="n">balance</span><span class="o">=</span><span class="n">balance</span><span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="n">post</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_multiple_first_valid_authorization_tuples_same_signer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_multiple_first_valid_authorization_tuples_same_signer</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_multiple_first_valid_authorization_tuples_same_signer" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test setting the code of an account with multiple authorization tuples from the same signer.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span>
<span class="normal">1668</span>
<span class="normal">1669</span>
<span class="normal">1670</span>
<span class="normal">1671</span>
<span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span>
<span class="normal">1677</span>
<span class="normal">1678</span>
<span class="normal">1679</span>
<span class="normal">1680</span>
<span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">test_set_code_multiple_first_valid_authorization_tuples_same_signer</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test setting the code of an account with multiple authorization tuples from the same signer.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">tuple_count</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="n">success_slot</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">addresses</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">tuple_count</span><span class="p">)]</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">address</span> <span class="ow">in</span> <span class="n">addresses</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">addresses</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">success_slot</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_multiple_valid_authorization_tuples_same_signer_increasing_nonce" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_multiple_valid_authorization_tuples_same_signer_increasing_nonce</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_multiple_valid_authorization_tuples_same_signer_increasing_nonce" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test setting the code of an account with multiple authorization tuples from the same signer
and each authorization tuple has an increasing nonce, therefore the last tuple is executed.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">test_set_code_multiple_valid_authorization_tuples_same_signer_increasing_nonce</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test setting the code of an account with multiple authorization tuples from the same signer</span>
<span class="sd">    and each authorization tuple has an increasing nonce, therefore the last tuple is executed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">tuple_count</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="n">success_slot</span> <span class="o">=</span> <span class="n">tuple_count</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="n">addresses</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">tuple_count</span><span class="p">)]</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>  <span class="c1"># TODO: Reduce gas limit of all tests</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="n">i</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">address</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">addresses</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">addresses</span><span class="p">[</span><span class="n">success_slot</span><span class="p">]),</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">success_slot</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_multiple_valid_authorization_tuples_same_signer_increasing_nonce_self_sponsored" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_multiple_valid_authorization_tuples_same_signer_increasing_nonce_self_sponsored</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_multiple_valid_authorization_tuples_same_signer_increasing_nonce_self_sponsored" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test setting the code of an account with multiple authorization tuples from the same signer
and each authorization tuple has an increasing nonce, therefore the last tuple is executed,
and the transaction is self-sponsored.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span>
<span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">test_set_code_multiple_valid_authorization_tuples_same_signer_increasing_nonce_self_sponsored</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test setting the code of an account with multiple authorization tuples from the same signer</span>
<span class="sd">    and each authorization tuple has an increasing nonce, therefore the last tuple is executed,</span>
<span class="sd">    and the transaction is self-sponsored.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">()</span>

    <span class="n">tuple_count</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="n">success_slot</span> <span class="o">=</span> <span class="n">tuple_count</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="n">addresses</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">tuple_count</span><span class="p">)]</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>  <span class="c1"># TODO: Reduce gas limit of all tests</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">address</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">addresses</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">addresses</span><span class="p">[</span><span class="n">success_slot</span><span class="p">]),</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">success_slot</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_multiple_valid_authorization_tuples_first_invalid_same_signer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_multiple_valid_authorization_tuples_first_invalid_same_signer</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_multiple_valid_authorization_tuples_first_invalid_same_signer" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test setting the code of an account with multiple authorization tuples from the same signer
but the first tuple is invalid.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">test_set_code_multiple_valid_authorization_tuples_first_invalid_same_signer</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test setting the code of an account with multiple authorization tuples from the same signer</span>
<span class="sd">    but the first tuple is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">success_slot</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">tuple_count</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="n">addresses</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">tuple_count</span><span class="p">)]</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span> <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">address</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">addresses</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">addresses</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">success_slot</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_all_invalid_authorization_tuples" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_all_invalid_authorization_tuples</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_all_invalid_authorization_tuples" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test setting the code of an account with multiple authorization tuples from the same signer
and all of them are invalid.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">test_set_code_all_invalid_authorization_tuples</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test setting the code of an account with multiple authorization tuples from the same signer</span>
<span class="sd">    and all of them are invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">tuple_count</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="n">addresses</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">tuple_count</span><span class="p">)]</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">address</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">addresses</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="o">.</span><span class="n">NONEXISTENT</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_invalid_authorization_tuple" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_invalid_authorization_tuple</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">invalidity_reason</span><span class="p">,</span> <span class="n">transaction_exception</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_invalid_authorization_tuple" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test attempting to set the code of an account with invalid authorization tuple.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;invalidity_reason,transaction_exception&quot;</span><span class="p">,</span>
    <span class="p">[</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span>
            <span class="n">InvalidityReason</span><span class="o">.</span><span class="n">NONCE</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span>  <span class="c1"># Transaction is valid and accepted, but no authorization tuple is processed</span>
        <span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span>
            <span class="n">InvalidityReason</span><span class="o">.</span><span class="n">MULTIPLE_NONCE</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span>
            <span class="n">marks</span><span class="o">=</span><span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span><span class="n">reason</span><span class="o">=</span><span class="s2">&quot;test issue&quot;</span><span class="p">),</span>
        <span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span>
            <span class="n">InvalidityReason</span><span class="o">.</span><span class="n">CHAIN_ID</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span>  <span class="c1"># Transaction is valid and accepted, but no authorization tuple is processed</span>
        <span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span>
            <span class="n">InvalidityReason</span><span class="o">.</span><span class="n">EMPTY_AUTHORIZATION_LIST</span><span class="p">,</span>
            <span class="n">TransactionException</span><span class="o">.</span><span class="n">TYPE_4_EMPTY_AUTHORIZATION_LIST</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">test_set_code_invalid_authorization_tuple</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">invalidity_reason</span><span class="p">:</span> <span class="n">InvalidityReason</span><span class="p">,</span>
    <span class="n">transaction_exception</span><span class="p">:</span> <span class="n">TransactionException</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test attempting to set the code of an account with invalid authorization tuple.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">success_slot</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">set_code</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">success_slot</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="n">set_code_to_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span>

    <span class="n">authorization_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">AuthorizationTuple</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">if</span> <span class="n">invalidity_reason</span> <span class="o">!=</span> <span class="n">InvalidityReason</span><span class="o">.</span><span class="n">EMPTY_AUTHORIZATION_LIST</span><span class="p">:</span>
        <span class="n">authorization_list</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">set_code_to_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="p">(</span>
                    <span class="mi">1</span>
                    <span class="k">if</span> <span class="n">invalidity_reason</span> <span class="o">==</span> <span class="n">InvalidityReason</span><span class="o">.</span><span class="n">NONCE</span>
                    <span class="k">else</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">invalidity_reason</span> <span class="o">==</span> <span class="n">InvalidityReason</span><span class="o">.</span><span class="n">MULTIPLE_NONCE</span>
                    <span class="k">else</span> <span class="mi">0</span>
                <span class="p">),</span>
                <span class="n">chain_id</span><span class="o">=</span><span class="mi">2</span> <span class="k">if</span> <span class="n">invalidity_reason</span> <span class="o">==</span> <span class="n">InvalidityReason</span><span class="o">.</span><span class="n">CHAIN_ID</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="n">authorization_list</span><span class="p">,</span>
        <span class="n">error</span><span class="o">=</span><span class="n">transaction_exception</span><span class="p">,</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="o">.</span><span class="n">NONEXISTENT</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_using_chain_specific_id" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_using_chain_specific_id</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_using_chain_specific_id" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test sending a transaction to set the code of an account using a chain-specific ID.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span>
<span class="normal">1978</span>
<span class="normal">1979</span>
<span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span>
<span class="normal">1996</span>
<span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span>
<span class="normal">2000</span>
<span class="normal">2001</span>
<span class="normal">2002</span>
<span class="normal">2003</span>
<span class="normal">2004</span>
<span class="normal">2005</span>
<span class="normal">2006</span>
<span class="normal">2007</span>
<span class="normal">2008</span>
<span class="normal">2009</span>
<span class="normal">2010</span>
<span class="normal">2011</span>
<span class="normal">2012</span>
<span class="normal">2013</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">test_set_code_using_chain_specific_id</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test sending a transaction to set the code of an account using a chain-specific ID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">success_slot</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">set_code</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">success_slot</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="n">set_code_to_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">100_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">set_code_to_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">chain_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">set_code_to_address</span><span class="p">),</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">success_slot</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_using_valid_synthetic_signatures" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_using_valid_synthetic_signatures</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_using_valid_synthetic_signatures" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test sending a transaction to set the code of an account using synthetic signatures.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2020</span>
<span class="normal">2021</span>
<span class="normal">2022</span>
<span class="normal">2023</span>
<span class="normal">2024</span>
<span class="normal">2025</span>
<span class="normal">2026</span>
<span class="normal">2027</span>
<span class="normal">2028</span>
<span class="normal">2029</span>
<span class="normal">2030</span>
<span class="normal">2031</span>
<span class="normal">2032</span>
<span class="normal">2033</span>
<span class="normal">2034</span>
<span class="normal">2035</span>
<span class="normal">2036</span>
<span class="normal">2037</span>
<span class="normal">2038</span>
<span class="normal">2039</span>
<span class="normal">2040</span>
<span class="normal">2041</span>
<span class="normal">2042</span>
<span class="normal">2043</span>
<span class="normal">2044</span>
<span class="normal">2045</span>
<span class="normal">2046</span>
<span class="normal">2047</span>
<span class="normal">2048</span>
<span class="normal">2049</span>
<span class="normal">2050</span>
<span class="normal">2051</span>
<span class="normal">2052</span>
<span class="normal">2053</span>
<span class="normal">2054</span>
<span class="normal">2055</span>
<span class="normal">2056</span>
<span class="normal">2057</span>
<span class="normal">2058</span>
<span class="normal">2059</span>
<span class="normal">2060</span>
<span class="normal">2061</span>
<span class="normal">2062</span>
<span class="normal">2063</span>
<span class="normal">2064</span>
<span class="normal">2065</span>
<span class="normal">2066</span>
<span class="normal">2067</span>
<span class="normal">2068</span>
<span class="normal">2069</span>
<span class="normal">2070</span>
<span class="normal">2071</span>
<span class="normal">2072</span>
<span class="normal">2073</span>
<span class="normal">2074</span>
<span class="normal">2075</span>
<span class="normal">2076</span>
<span class="normal">2077</span>
<span class="normal">2078</span>
<span class="normal">2079</span>
<span class="normal">2080</span>
<span class="normal">2081</span>
<span class="normal">2082</span>
<span class="normal">2083</span>
<span class="normal">2084</span>
<span class="normal">2085</span>
<span class="normal">2086</span>
<span class="normal">2087</span>
<span class="normal">2088</span>
<span class="normal">2089</span>
<span class="normal">2090</span>
<span class="normal">2091</span>
<span class="normal">2092</span>
<span class="normal">2093</span>
<span class="normal">2094</span>
<span class="normal">2095</span>
<span class="normal">2096</span>
<span class="normal">2097</span>
<span class="normal">2098</span>
<span class="normal">2099</span>
<span class="normal">2100</span>
<span class="normal">2101</span>
<span class="normal">2102</span>
<span class="normal">2103</span>
<span class="normal">2104</span>
<span class="normal">2105</span>
<span class="normal">2106</span>
<span class="normal">2107</span>
<span class="normal">2108</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;v,r,s&quot;</span><span class="p">,</span>
    <span class="p">[</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v=0,r=1,s=1&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v=1,r=1,s=1&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span>
            <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v=2,r=1,s=1&quot;</span><span class="p">,</span> <span class="n">marks</span><span class="o">=</span><span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span><span class="n">reason</span><span class="o">=</span><span class="s2">&quot;invalid signature&quot;</span><span class="p">)</span>
        <span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span>
            <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v=1,r=0,s=1&quot;</span><span class="p">,</span> <span class="n">marks</span><span class="o">=</span><span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span><span class="n">reason</span><span class="o">=</span><span class="s2">&quot;invalid signature&quot;</span><span class="p">)</span>
        <span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span>
            <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v=1,r=1,s=0&quot;</span><span class="p">,</span> <span class="n">marks</span><span class="o">=</span><span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span><span class="n">reason</span><span class="o">=</span><span class="s2">&quot;invalid signature&quot;</span><span class="p">)</span>
        <span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span>
            <span class="mi">0</span><span class="p">,</span>
            <span class="n">SECP256K1N</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v=0,r=SECP256K1N,s=1&quot;</span><span class="p">,</span>
            <span class="n">marks</span><span class="o">=</span><span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span><span class="n">reason</span><span class="o">=</span><span class="s2">&quot;invalid signature&quot;</span><span class="p">),</span>
        <span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span>
            <span class="mi">0</span><span class="p">,</span>
            <span class="n">SECP256K1N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v=0,r=SECP256K1N-1,s=1&quot;</span><span class="p">,</span>
            <span class="n">marks</span><span class="o">=</span><span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span><span class="n">reason</span><span class="o">=</span><span class="s2">&quot;invalid signature&quot;</span><span class="p">),</span>
        <span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">SECP256K1N</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v=0,r=SECP256K1N-2,s=1&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">SECP256K1N</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v=1,r=SECP256K1N-2,s=1&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">SECP256K1N_OVER_2</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v=0,r=1,s=SECP256K1N_OVER_2&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">SECP256K1N_OVER_2</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v=1,r=1,s=SECP256K1N_OVER_2&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span>
            <span class="mi">0</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="n">SECP256K1N_OVER_2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v=0,r=1,s=SECP256K1N_OVER_2+1&quot;</span><span class="p">,</span>
            <span class="n">marks</span><span class="o">=</span><span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span><span class="n">reason</span><span class="o">=</span><span class="s2">&quot;invalid signature&quot;</span><span class="p">),</span>
        <span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">test_set_code_using_valid_synthetic_signatures</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">v</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">r</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">s</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test sending a transaction to set the code of an account using synthetic signatures.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">success_slot</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">set_code</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">success_slot</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="n">set_code_to_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span>

    <span class="n">authorization_tuple</span> <span class="o">=</span> <span class="n">AuthorizationTuple</span><span class="p">(</span>
        <span class="n">address</span><span class="o">=</span><span class="n">set_code_to_address</span><span class="p">,</span>
        <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">chain_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">v</span><span class="o">=</span><span class="n">v</span><span class="p">,</span>
        <span class="n">r</span><span class="o">=</span><span class="n">r</span><span class="p">,</span>
        <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">authorization_tuple</span><span class="o">.</span><span class="n">signer</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">100_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span><span class="n">authorization_tuple</span><span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">set_code_to_address</span><span class="p">),</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">success_slot</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_invalid_tx_invalid_auth_signature" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_invalid_tx_invalid_auth_signature</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_invalid_tx_invalid_auth_signature" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test sending a transaction to set the code of an account using synthetic signatures.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2112</span>
<span class="normal">2113</span>
<span class="normal">2114</span>
<span class="normal">2115</span>
<span class="normal">2116</span>
<span class="normal">2117</span>
<span class="normal">2118</span>
<span class="normal">2119</span>
<span class="normal">2120</span>
<span class="normal">2121</span>
<span class="normal">2122</span>
<span class="normal">2123</span>
<span class="normal">2124</span>
<span class="normal">2125</span>
<span class="normal">2126</span>
<span class="normal">2127</span>
<span class="normal">2128</span>
<span class="normal">2129</span>
<span class="normal">2130</span>
<span class="normal">2131</span>
<span class="normal">2132</span>
<span class="normal">2133</span>
<span class="normal">2134</span>
<span class="normal">2135</span>
<span class="normal">2136</span>
<span class="normal">2137</span>
<span class="normal">2138</span>
<span class="normal">2139</span>
<span class="normal">2140</span>
<span class="normal">2141</span>
<span class="normal">2142</span>
<span class="normal">2143</span>
<span class="normal">2144</span>
<span class="normal">2145</span>
<span class="normal">2146</span>
<span class="normal">2147</span>
<span class="normal">2148</span>
<span class="normal">2149</span>
<span class="normal">2150</span>
<span class="normal">2151</span>
<span class="normal">2152</span>
<span class="normal">2153</span>
<span class="normal">2154</span>
<span class="normal">2155</span>
<span class="normal">2156</span>
<span class="normal">2157</span>
<span class="normal">2158</span>
<span class="normal">2159</span>
<span class="normal">2160</span>
<span class="normal">2161</span>
<span class="normal">2162</span>
<span class="normal">2163</span>
<span class="normal">2164</span>
<span class="normal">2165</span>
<span class="normal">2166</span>
<span class="normal">2167</span>
<span class="normal">2168</span>
<span class="normal">2169</span>
<span class="normal">2170</span>
<span class="normal">2171</span>
<span class="normal">2172</span>
<span class="normal">2173</span>
<span class="normal">2174</span>
<span class="normal">2175</span>
<span class="normal">2176</span>
<span class="normal">2177</span>
<span class="normal">2178</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;v,r,s&quot;</span><span class="p">,</span>
    <span class="p">[</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v_2,r_1,s_1&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span>
            <span class="mi">0</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="n">SECP256K1N_OVER_2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v_0,r_1,s_SECP256K1N_OVER_2+1&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span>
            <span class="mi">2</span><span class="o">**</span><span class="mi">256</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v_2**256-1,r_1,s_1&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span>
            <span class="mi">0</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="mi">2</span><span class="o">**</span><span class="mi">256</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v_0,r_1,s_2**256-1&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">test_invalid_tx_invalid_auth_signature</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">v</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">r</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">s</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test sending a transaction to set the code of an account using synthetic signatures.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">success_slot</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">callee_code</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">success_slot</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="n">callee_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">callee_code</span><span class="p">)</span>

    <span class="n">authorization_tuple</span> <span class="o">=</span> <span class="n">AuthorizationTuple</span><span class="p">(</span>
        <span class="n">address</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">chain_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">v</span><span class="o">=</span><span class="n">v</span><span class="p">,</span>
        <span class="n">r</span><span class="o">=</span><span class="n">r</span><span class="p">,</span>
        <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">100_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">callee_address</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span><span class="n">authorization_tuple</span><span class="p">],</span>
        <span class="n">error</span><span class="o">=</span><span class="n">TransactionException</span><span class="o">.</span><span class="n">TYPE_4_INVALID_AUTHORITY_SIGNATURE</span><span class="p">,</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">callee_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{</span><span class="n">success_slot</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_using_invalid_signatures" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_using_invalid_signatures</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_using_invalid_signatures" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test sending a transaction to set the code of an account using synthetic signatures,
the transaction is valid but the authorization should not go through.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2181</span>
<span class="normal">2182</span>
<span class="normal">2183</span>
<span class="normal">2184</span>
<span class="normal">2185</span>
<span class="normal">2186</span>
<span class="normal">2187</span>
<span class="normal">2188</span>
<span class="normal">2189</span>
<span class="normal">2190</span>
<span class="normal">2191</span>
<span class="normal">2192</span>
<span class="normal">2193</span>
<span class="normal">2194</span>
<span class="normal">2195</span>
<span class="normal">2196</span>
<span class="normal">2197</span>
<span class="normal">2198</span>
<span class="normal">2199</span>
<span class="normal">2200</span>
<span class="normal">2201</span>
<span class="normal">2202</span>
<span class="normal">2203</span>
<span class="normal">2204</span>
<span class="normal">2205</span>
<span class="normal">2206</span>
<span class="normal">2207</span>
<span class="normal">2208</span>
<span class="normal">2209</span>
<span class="normal">2210</span>
<span class="normal">2211</span>
<span class="normal">2212</span>
<span class="normal">2213</span>
<span class="normal">2214</span>
<span class="normal">2215</span>
<span class="normal">2216</span>
<span class="normal">2217</span>
<span class="normal">2218</span>
<span class="normal">2219</span>
<span class="normal">2220</span>
<span class="normal">2221</span>
<span class="normal">2222</span>
<span class="normal">2223</span>
<span class="normal">2224</span>
<span class="normal">2225</span>
<span class="normal">2226</span>
<span class="normal">2227</span>
<span class="normal">2228</span>
<span class="normal">2229</span>
<span class="normal">2230</span>
<span class="normal">2231</span>
<span class="normal">2232</span>
<span class="normal">2233</span>
<span class="normal">2234</span>
<span class="normal">2235</span>
<span class="normal">2236</span>
<span class="normal">2237</span>
<span class="normal">2238</span>
<span class="normal">2239</span>
<span class="normal">2240</span>
<span class="normal">2241</span>
<span class="normal">2242</span>
<span class="normal">2243</span>
<span class="normal">2244</span>
<span class="normal">2245</span>
<span class="normal">2246</span>
<span class="normal">2247</span>
<span class="normal">2248</span>
<span class="normal">2249</span>
<span class="normal">2250</span>
<span class="normal">2251</span>
<span class="normal">2252</span>
<span class="normal">2253</span>
<span class="normal">2254</span>
<span class="normal">2255</span>
<span class="normal">2256</span>
<span class="normal">2257</span>
<span class="normal">2258</span>
<span class="normal">2259</span>
<span class="normal">2260</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;v,r,s&quot;</span><span class="p">,</span>
    <span class="p">[</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v_1,r_0,s_1&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v_1,r_1,s_0&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span>
            <span class="mi">0</span><span class="p">,</span>
            <span class="n">SECP256K1N</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v_0,r_SECP256K1N,s_1&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span>
            <span class="mi">0</span><span class="p">,</span>
            <span class="n">SECP256K1N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v_0,r_SECP256K1N-1,s_1&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span>
            <span class="mi">0</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="n">SECP256K1N_OVER_2</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v_0,r_1,s_SECP256K1N_OVER_2&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span>
            <span class="mi">0</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="n">SECP256K1N_OVER_2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v_0,r_1,s_SECP256K1N_OVER_2_minus_one&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="mi">2</span><span class="o">**</span><span class="mi">256</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;v_1,r_2**256-1,s_1&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">test_set_code_using_invalid_signatures</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">v</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">r</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">s</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test sending a transaction to set the code of an account using synthetic signatures,</span>
<span class="sd">    the transaction is valid but the authorization should not go through.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">success_slot</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">callee_code</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">success_slot</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="n">callee_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">callee_code</span><span class="p">)</span>

    <span class="n">authorization_tuple</span> <span class="o">=</span> <span class="n">AuthorizationTuple</span><span class="p">(</span>
        <span class="n">address</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">chain_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">v</span><span class="o">=</span><span class="n">v</span><span class="p">,</span>
        <span class="n">r</span><span class="o">=</span><span class="n">r</span><span class="p">,</span>
        <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">100_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">callee_address</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span><span class="n">authorization_tuple</span><span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">callee_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{</span><span class="n">success_slot</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_log" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_to_log</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">log_opcode</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_log" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test setting the code of an account to a contract that performs the log operation.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2263</span>
<span class="normal">2264</span>
<span class="normal">2265</span>
<span class="normal">2266</span>
<span class="normal">2267</span>
<span class="normal">2268</span>
<span class="normal">2269</span>
<span class="normal">2270</span>
<span class="normal">2271</span>
<span class="normal">2272</span>
<span class="normal">2273</span>
<span class="normal">2274</span>
<span class="normal">2275</span>
<span class="normal">2276</span>
<span class="normal">2277</span>
<span class="normal">2278</span>
<span class="normal">2279</span>
<span class="normal">2280</span>
<span class="normal">2281</span>
<span class="normal">2282</span>
<span class="normal">2283</span>
<span class="normal">2284</span>
<span class="normal">2285</span>
<span class="normal">2286</span>
<span class="normal">2287</span>
<span class="normal">2288</span>
<span class="normal">2289</span>
<span class="normal">2290</span>
<span class="normal">2291</span>
<span class="normal">2292</span>
<span class="normal">2293</span>
<span class="normal">2294</span>
<span class="normal">2295</span>
<span class="normal">2296</span>
<span class="normal">2297</span>
<span class="normal">2298</span>
<span class="normal">2299</span>
<span class="normal">2300</span>
<span class="normal">2301</span>
<span class="normal">2302</span>
<span class="normal">2303</span>
<span class="normal">2304</span>
<span class="normal">2305</span>
<span class="normal">2306</span>
<span class="normal">2307</span>
<span class="normal">2308</span>
<span class="normal">2309</span>
<span class="normal">2310</span>
<span class="normal">2311</span>
<span class="normal">2312</span>
<span class="normal">2313</span>
<span class="normal">2314</span>
<span class="normal">2315</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;log_opcode&quot;</span><span class="p">,</span>
    <span class="p">[</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">LOG0</span><span class="p">,</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">LOG1</span><span class="p">,</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">LOG2</span><span class="p">,</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">LOG3</span><span class="p">,</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">LOG4</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">)</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">with_all_evm_code_types</span>
<span class="k">def</span> <span class="nf">test_set_code_to_log</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">log_opcode</span><span class="p">:</span> <span class="n">Op</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test setting the code of an account to a contract that performs the log operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sender</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">()</span>

    <span class="n">set_to_code</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">MSTORE</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mh">0x1234</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">log_opcode</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">topic_1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">topic_2</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">topic_3</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">topic_4</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="p">)</span>
    <span class="n">set_to_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">set_to_code</span><span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">10_000_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">sender</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">set_to_address</span><span class="p">,</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">sender</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">sender</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">sender</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">set_to_address</span><span class="p">),</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_precompile" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_to_precompile</span><span class="p">(</span><span class="n">state_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">precompile</span><span class="p">,</span> <span class="n">call_opcode</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_precompile" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test setting the code of an account to a pre-compile address.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2318</span>
<span class="normal">2319</span>
<span class="normal">2320</span>
<span class="normal">2321</span>
<span class="normal">2322</span>
<span class="normal">2323</span>
<span class="normal">2324</span>
<span class="normal">2325</span>
<span class="normal">2326</span>
<span class="normal">2327</span>
<span class="normal">2328</span>
<span class="normal">2329</span>
<span class="normal">2330</span>
<span class="normal">2331</span>
<span class="normal">2332</span>
<span class="normal">2333</span>
<span class="normal">2334</span>
<span class="normal">2335</span>
<span class="normal">2336</span>
<span class="normal">2337</span>
<span class="normal">2338</span>
<span class="normal">2339</span>
<span class="normal">2340</span>
<span class="normal">2341</span>
<span class="normal">2342</span>
<span class="normal">2343</span>
<span class="normal">2344</span>
<span class="normal">2345</span>
<span class="normal">2346</span>
<span class="normal">2347</span>
<span class="normal">2348</span>
<span class="normal">2349</span>
<span class="normal">2350</span>
<span class="normal">2351</span>
<span class="normal">2352</span>
<span class="normal">2353</span>
<span class="normal">2354</span>
<span class="normal">2355</span>
<span class="normal">2356</span>
<span class="normal">2357</span>
<span class="normal">2358</span>
<span class="normal">2359</span>
<span class="normal">2360</span>
<span class="normal">2361</span>
<span class="normal">2362</span>
<span class="normal">2363</span>
<span class="normal">2364</span>
<span class="normal">2365</span>
<span class="normal">2366</span>
<span class="normal">2367</span>
<span class="normal">2368</span>
<span class="normal">2369</span>
<span class="normal">2370</span>
<span class="normal">2371</span>
<span class="normal">2372</span>
<span class="normal">2373</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">with_all_call_opcodes</span><span class="p">(</span>
    <span class="n">selector</span><span class="o">=</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="n">opcode</span><span class="p">:</span> <span class="n">opcode</span>
        <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">Op</span><span class="o">.</span><span class="n">STATICCALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">CALLCODE</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">DELEGATECALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTDELEGATECALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTSTATICCALL</span><span class="p">]</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">with_all_precompiles</span>
<span class="k">def</span> <span class="nf">test_set_code_to_precompile</span><span class="p">(</span>
    <span class="n">state_test</span><span class="p">:</span> <span class="n">StateTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">precompile</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">call_opcode</span><span class="p">:</span> <span class="n">Op</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test setting the code of an account to a pre-compile address.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="n">caller_code_storage</span> <span class="o">=</span> <span class="n">Storage</span><span class="p">()</span>
    <span class="n">caller_code</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span>
            <span class="n">caller_code_storage</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span><span class="n">call_return_code</span><span class="p">(</span><span class="n">opcode</span><span class="o">=</span><span class="n">call_opcode</span><span class="p">,</span> <span class="n">success</span><span class="o">=</span><span class="kc">True</span><span class="p">)),</span>
            <span class="n">call_opcode</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">caller_code_storage</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">Op</span><span class="o">.</span><span class="n">RETURNDATASIZE</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="p">)</span>
    <span class="n">caller_code_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">caller_code</span><span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span>
        <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
        <span class="n">gas_limit</span><span class="o">=</span><span class="mi">500_000</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">caller_code_address</span><span class="p">,</span>
        <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
            <span class="n">AuthorizationTuple</span><span class="p">(</span>
                <span class="n">address</span><span class="o">=</span><span class="n">Address</span><span class="p">(</span><span class="n">precompile</span><span class="p">),</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span>
    <span class="p">)</span>

    <span class="n">state_test</span><span class="p">(</span>
        <span class="n">env</span><span class="o">=</span><span class="n">Environment</span><span class="p">(),</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">tx</span><span class="o">=</span><span class="n">tx</span><span class="p">,</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">Address</span><span class="p">(</span><span class="n">precompile</span><span class="p">)),</span>
            <span class="p">),</span>
            <span class="n">caller_code_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">storage</span><span class="o">=</span><span class="n">caller_code_storage</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_system_contract" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_set_code_to_system_contract</span><span class="p">(</span><span class="n">blockchain_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">system_contract</span><span class="p">,</span> <span class="n">call_opcode</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_set_code_to_system_contract" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test setting the code of an account to a pre-compile address.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2389</span>
<span class="normal">2390</span>
<span class="normal">2391</span>
<span class="normal">2392</span>
<span class="normal">2393</span>
<span class="normal">2394</span>
<span class="normal">2395</span>
<span class="normal">2396</span>
<span class="normal">2397</span>
<span class="normal">2398</span>
<span class="normal">2399</span>
<span class="normal">2400</span>
<span class="normal">2401</span>
<span class="normal">2402</span>
<span class="normal">2403</span>
<span class="normal">2404</span>
<span class="normal">2405</span>
<span class="normal">2406</span>
<span class="normal">2407</span>
<span class="normal">2408</span>
<span class="normal">2409</span>
<span class="normal">2410</span>
<span class="normal">2411</span>
<span class="normal">2412</span>
<span class="normal">2413</span>
<span class="normal">2414</span>
<span class="normal">2415</span>
<span class="normal">2416</span>
<span class="normal">2417</span>
<span class="normal">2418</span>
<span class="normal">2419</span>
<span class="normal">2420</span>
<span class="normal">2421</span>
<span class="normal">2422</span>
<span class="normal">2423</span>
<span class="normal">2424</span>
<span class="normal">2425</span>
<span class="normal">2426</span>
<span class="normal">2427</span>
<span class="normal">2428</span>
<span class="normal">2429</span>
<span class="normal">2430</span>
<span class="normal">2431</span>
<span class="normal">2432</span>
<span class="normal">2433</span>
<span class="normal">2434</span>
<span class="normal">2435</span>
<span class="normal">2436</span>
<span class="normal">2437</span>
<span class="normal">2438</span>
<span class="normal">2439</span>
<span class="normal">2440</span>
<span class="normal">2441</span>
<span class="normal">2442</span>
<span class="normal">2443</span>
<span class="normal">2444</span>
<span class="normal">2445</span>
<span class="normal">2446</span>
<span class="normal">2447</span>
<span class="normal">2448</span>
<span class="normal">2449</span>
<span class="normal">2450</span>
<span class="normal">2451</span>
<span class="normal">2452</span>
<span class="normal">2453</span>
<span class="normal">2454</span>
<span class="normal">2455</span>
<span class="normal">2456</span>
<span class="normal">2457</span>
<span class="normal">2458</span>
<span class="normal">2459</span>
<span class="normal">2460</span>
<span class="normal">2461</span>
<span class="normal">2462</span>
<span class="normal">2463</span>
<span class="normal">2464</span>
<span class="normal">2465</span>
<span class="normal">2466</span>
<span class="normal">2467</span>
<span class="normal">2468</span>
<span class="normal">2469</span>
<span class="normal">2470</span>
<span class="normal">2471</span>
<span class="normal">2472</span>
<span class="normal">2473</span>
<span class="normal">2474</span>
<span class="normal">2475</span>
<span class="normal">2476</span>
<span class="normal">2477</span>
<span class="normal">2478</span>
<span class="normal">2479</span>
<span class="normal">2480</span>
<span class="normal">2481</span>
<span class="normal">2482</span>
<span class="normal">2483</span>
<span class="normal">2484</span>
<span class="normal">2485</span>
<span class="normal">2486</span>
<span class="normal">2487</span>
<span class="normal">2488</span>
<span class="normal">2489</span>
<span class="normal">2490</span>
<span class="normal">2491</span>
<span class="normal">2492</span>
<span class="normal">2493</span>
<span class="normal">2494</span>
<span class="normal">2495</span>
<span class="normal">2496</span>
<span class="normal">2497</span>
<span class="normal">2498</span>
<span class="normal">2499</span>
<span class="normal">2500</span>
<span class="normal">2501</span>
<span class="normal">2502</span>
<span class="normal">2503</span>
<span class="normal">2504</span>
<span class="normal">2505</span>
<span class="normal">2506</span>
<span class="normal">2507</span>
<span class="normal">2508</span>
<span class="normal">2509</span>
<span class="normal">2510</span>
<span class="normal">2511</span>
<span class="normal">2512</span>
<span class="normal">2513</span>
<span class="normal">2514</span>
<span class="normal">2515</span>
<span class="normal">2516</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">with_all_call_opcodes</span><span class="p">(</span>
    <span class="n">selector</span><span class="o">=</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="n">opcode</span><span class="p">:</span> <span class="n">opcode</span>
        <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">Op</span><span class="o">.</span><span class="n">STATICCALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">CALLCODE</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">DELEGATECALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTDELEGATECALL</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">EXTSTATICCALL</span><span class="p">]</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">with_all_system_contracts</span>
<span class="k">def</span> <span class="nf">test_set_code_to_system_contract</span><span class="p">(</span>
    <span class="n">blockchain_test</span><span class="p">:</span> <span class="n">BlockchainTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">system_contract</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">call_opcode</span><span class="p">:</span> <span class="n">Op</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test setting the code of an account to a pre-compile address.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">caller_code_storage</span> <span class="o">=</span> <span class="n">Storage</span><span class="p">()</span>
    <span class="n">call_return_code_slot</span> <span class="o">=</span> <span class="n">caller_code_storage</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span>
        <span class="n">call_return_code</span><span class="p">(</span>
            <span class="n">opcode</span><span class="o">=</span><span class="n">call_opcode</span><span class="p">,</span>
            <span class="n">success</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="n">call_return_data_size_slot</span> <span class="o">=</span> <span class="n">caller_code_storage</span><span class="o">.</span><span class="n">store_next</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="n">call_value</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># Setup the initial storage of the account to mimic the system contract if required</span>
    <span class="k">match</span> <span class="n">system_contract</span><span class="p">:</span>
        <span class="k">case</span> <span class="n">Address</span><span class="p">(</span><span class="mh">0x00000000219AB540356CBB839CBE05303D7705FA</span><span class="p">):</span>  <span class="c1"># EIP-6110</span>
            <span class="c1"># Deposit contract needs specific storage values, so we set them on the account</span>
            <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span>
                <span class="n">auth_account_start_balance</span><span class="p">,</span> <span class="n">storage</span><span class="o">=</span><span class="n">deposit_contract_initial_storage</span><span class="p">()</span>
            <span class="p">)</span>
        <span class="k">case</span> <span class="n">Address</span><span class="p">(</span><span class="mh">0x000F3DF6D732807EF1319FB7B8BB8522D0BEAC02</span><span class="p">):</span>  <span class="c1"># EIP-4788</span>
            <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">,</span> <span class="n">storage</span><span class="o">=</span><span class="n">Storage</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="mi">1</span><span class="p">}))</span>
        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
            <span class="c1"># Pre-fund without storage</span>
            <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(</span><span class="n">auth_account_start_balance</span><span class="p">)</span>

    <span class="c1"># Fabricate the payload for the system contract</span>
    <span class="k">match</span> <span class="n">system_contract</span><span class="p">:</span>
        <span class="k">case</span> <span class="n">Address</span><span class="p">(</span><span class="mh">0x000F3DF6D732807EF1319FB7B8BB8522D0BEAC02</span><span class="p">):</span>  <span class="c1"># EIP-4788</span>
            <span class="n">caller_payload</span> <span class="o">=</span> <span class="n">Hash</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">caller_code_storage</span><span class="p">[</span><span class="n">call_return_data_size_slot</span><span class="p">]</span> <span class="o">=</span> <span class="mi">32</span>
        <span class="k">case</span> <span class="n">Address</span><span class="p">(</span><span class="mh">0x00000000219AB540356CBB839CBE05303D7705FA</span><span class="p">):</span>  <span class="c1"># EIP-6110</span>
            <span class="c1"># Fabricate a valid deposit request to the set-code account</span>
            <span class="n">deposit_request</span> <span class="o">=</span> <span class="n">DepositRequest</span><span class="p">(</span>
                <span class="n">pubkey</span><span class="o">=</span><span class="mh">0x01</span><span class="p">,</span>
                <span class="n">withdrawal_credentials</span><span class="o">=</span><span class="mh">0x02</span><span class="p">,</span>
                <span class="n">amount</span><span class="o">=</span><span class="mi">1_000_000_000</span><span class="p">,</span>
                <span class="n">signature</span><span class="o">=</span><span class="mh">0x03</span><span class="p">,</span>
                <span class="n">index</span><span class="o">=</span><span class="mh">0x0</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">caller_payload</span> <span class="o">=</span> <span class="n">deposit_request</span><span class="o">.</span><span class="n">calldata</span>
            <span class="n">call_value</span> <span class="o">=</span> <span class="n">deposit_request</span><span class="o">.</span><span class="n">value</span>
        <span class="k">case</span> <span class="n">Address</span><span class="p">(</span><span class="mh">0x00A3CA265EBCB825B45F985A16CEFB49958CE017</span><span class="p">):</span>  <span class="c1"># EIP-7002</span>
            <span class="c1"># Fabricate a valid withdrawal request to the set-code account</span>
            <span class="n">withdrawal_request</span> <span class="o">=</span> <span class="n">WithdrawalRequest</span><span class="p">(</span>
                <span class="n">source_address</span><span class="o">=</span><span class="mh">0x01</span><span class="p">,</span>
                <span class="n">validator_pubkey</span><span class="o">=</span><span class="mh">0x02</span><span class="p">,</span>
                <span class="n">amount</span><span class="o">=</span><span class="mh">0x03</span><span class="p">,</span>
                <span class="n">fee</span><span class="o">=</span><span class="mh">0x01</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">caller_payload</span> <span class="o">=</span> <span class="n">withdrawal_request</span><span class="o">.</span><span class="n">calldata</span>
            <span class="n">call_value</span> <span class="o">=</span> <span class="n">withdrawal_request</span><span class="o">.</span><span class="n">value</span>
        <span class="k">case</span> <span class="n">Address</span><span class="p">(</span><span class="mh">0x00B42DBF2194E931E80326D950320F7D9DBEAC02</span><span class="p">):</span>  <span class="c1"># EIP-7251</span>
            <span class="c1"># Fabricate a valid consolidation request to the set-code account</span>
            <span class="n">consolidation_request</span> <span class="o">=</span> <span class="n">ConsolidationRequest</span><span class="p">(</span>
                <span class="n">source_address</span><span class="o">=</span><span class="mh">0x01</span><span class="p">,</span>
                <span class="n">source_pubkey</span><span class="o">=</span><span class="mh">0x02</span><span class="p">,</span>
                <span class="n">target_pubkey</span><span class="o">=</span><span class="mh">0x03</span><span class="p">,</span>
                <span class="n">fee</span><span class="o">=</span><span class="mh">0x01</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">caller_payload</span> <span class="o">=</span> <span class="n">consolidation_request</span><span class="o">.</span><span class="n">calldata</span>
            <span class="n">call_value</span> <span class="o">=</span> <span class="n">consolidation_request</span><span class="o">.</span><span class="n">value</span>
        <span class="k">case</span> <span class="n">Address</span><span class="p">(</span><span class="mh">0x0AAE40965E6800CD9B1F4B05FF21581047E3F91E</span><span class="p">):</span>  <span class="c1"># EIP-2935</span>
            <span class="n">caller_payload</span> <span class="o">=</span> <span class="n">Hash</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">caller_code_storage</span><span class="p">[</span><span class="n">call_return_data_size_slot</span><span class="p">]</span> <span class="o">=</span> <span class="mi">32</span>
        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Not implemented system contract: </span><span class="si">{</span><span class="n">system_contract</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">caller_code</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Op</span><span class="o">.</span><span class="n">CALLDATACOPY</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">CALLDATASIZE</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span>
            <span class="n">call_return_code_slot</span><span class="p">,</span>
            <span class="n">call_opcode</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">call_value</span><span class="p">,</span> <span class="n">args_size</span><span class="o">=</span><span class="n">Op</span><span class="o">.</span><span class="n">CALLDATASIZE</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="n">call_return_data_size_slot</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">RETURNDATASIZE</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="p">)</span>
    <span class="n">caller_code_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">caller_code</span><span class="p">)</span>

    <span class="n">txs</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">Transaction</span><span class="p">(</span>
            <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
            <span class="n">gas_limit</span><span class="o">=</span><span class="mi">500_000</span><span class="p">,</span>
            <span class="n">to</span><span class="o">=</span><span class="n">caller_code_address</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">call_value</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">caller_payload</span><span class="p">,</span>
            <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
                <span class="n">AuthorizationTuple</span><span class="p">(</span>
                    <span class="n">address</span><span class="o">=</span><span class="n">Address</span><span class="p">(</span><span class="n">system_contract</span><span class="p">),</span>
                    <span class="n">nonce</span><span class="o">=</span><span class="n">auth_signer</span><span class="o">.</span><span class="n">nonce</span><span class="p">,</span>
                    <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">],</span>
        <span class="p">)</span>
    <span class="p">]</span>

    <span class="n">blockchain_test</span><span class="p">(</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">blocks</span><span class="o">=</span><span class="p">[</span>
            <span class="n">Block</span><span class="p">(</span>
                <span class="n">txs</span><span class="o">=</span><span class="n">txs</span><span class="p">,</span>
                <span class="n">requests_root</span><span class="o">=</span><span class="p">[],</span>  <span class="c1"># Verify nothing slipped into the requests trie</span>
            <span class="p">)</span>
        <span class="p">],</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="n">auth_signer</span><span class="o">.</span><span class="n">nonce</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">Address</span><span class="p">(</span><span class="n">system_contract</span><span class="p">)),</span>
            <span class="p">),</span>
            <span class="n">caller_code_address</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">storage</span><span class="o">=</span><span class="n">caller_code_storage</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_eoa_tx_after_set_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_eoa_tx_after_set_code</span><span class="p">(</span><span class="n">blockchain_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">tx_type</span><span class="p">,</span> <span class="n">evm_code_type</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_eoa_tx_after_set_code" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test sending a transaction from an EOA after code has been set to the account.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2519</span>
<span class="normal">2520</span>
<span class="normal">2521</span>
<span class="normal">2522</span>
<span class="normal">2523</span>
<span class="normal">2524</span>
<span class="normal">2525</span>
<span class="normal">2526</span>
<span class="normal">2527</span>
<span class="normal">2528</span>
<span class="normal">2529</span>
<span class="normal">2530</span>
<span class="normal">2531</span>
<span class="normal">2532</span>
<span class="normal">2533</span>
<span class="normal">2534</span>
<span class="normal">2535</span>
<span class="normal">2536</span>
<span class="normal">2537</span>
<span class="normal">2538</span>
<span class="normal">2539</span>
<span class="normal">2540</span>
<span class="normal">2541</span>
<span class="normal">2542</span>
<span class="normal">2543</span>
<span class="normal">2544</span>
<span class="normal">2545</span>
<span class="normal">2546</span>
<span class="normal">2547</span>
<span class="normal">2548</span>
<span class="normal">2549</span>
<span class="normal">2550</span>
<span class="normal">2551</span>
<span class="normal">2552</span>
<span class="normal">2553</span>
<span class="normal">2554</span>
<span class="normal">2555</span>
<span class="normal">2556</span>
<span class="normal">2557</span>
<span class="normal">2558</span>
<span class="normal">2559</span>
<span class="normal">2560</span>
<span class="normal">2561</span>
<span class="normal">2562</span>
<span class="normal">2563</span>
<span class="normal">2564</span>
<span class="normal">2565</span>
<span class="normal">2566</span>
<span class="normal">2567</span>
<span class="normal">2568</span>
<span class="normal">2569</span>
<span class="normal">2570</span>
<span class="normal">2571</span>
<span class="normal">2572</span>
<span class="normal">2573</span>
<span class="normal">2574</span>
<span class="normal">2575</span>
<span class="normal">2576</span>
<span class="normal">2577</span>
<span class="normal">2578</span>
<span class="normal">2579</span>
<span class="normal">2580</span>
<span class="normal">2581</span>
<span class="normal">2582</span>
<span class="normal">2583</span>
<span class="normal">2584</span>
<span class="normal">2585</span>
<span class="normal">2586</span>
<span class="normal">2587</span>
<span class="normal">2588</span>
<span class="normal">2589</span>
<span class="normal">2590</span>
<span class="normal">2591</span>
<span class="normal">2592</span>
<span class="normal">2593</span>
<span class="normal">2594</span>
<span class="normal">2595</span>
<span class="normal">2596</span>
<span class="normal">2597</span>
<span class="normal">2598</span>
<span class="normal">2599</span>
<span class="normal">2600</span>
<span class="normal">2601</span>
<span class="normal">2602</span>
<span class="normal">2603</span>
<span class="normal">2604</span>
<span class="normal">2605</span>
<span class="normal">2606</span>
<span class="normal">2607</span>
<span class="normal">2608</span>
<span class="normal">2609</span>
<span class="normal">2610</span>
<span class="normal">2611</span>
<span class="normal">2612</span>
<span class="normal">2613</span>
<span class="normal">2614</span>
<span class="normal">2615</span>
<span class="normal">2616</span>
<span class="normal">2617</span>
<span class="normal">2618</span>
<span class="normal">2619</span>
<span class="normal">2620</span>
<span class="normal">2621</span>
<span class="normal">2622</span>
<span class="normal">2623</span>
<span class="normal">2624</span>
<span class="normal">2625</span>
<span class="normal">2626</span>
<span class="normal">2627</span>
<span class="normal">2628</span>
<span class="normal">2629</span>
<span class="normal">2630</span>
<span class="normal">2631</span>
<span class="normal">2632</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">with_all_evm_code_types</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">with_all_tx_types</span><span class="p">(</span><span class="n">selector</span><span class="o">=</span><span class="k">lambda</span> <span class="n">tx_type</span><span class="p">:</span> <span class="n">tx_type</span> <span class="o">!=</span> <span class="mi">4</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_eoa_tx_after_set_code</span><span class="p">(</span>
    <span class="n">blockchain_test</span><span class="p">:</span> <span class="n">BlockchainTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">tx_type</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">evm_code_type</span><span class="p">:</span> <span class="n">EVMCodeType</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test sending a transaction from an EOA after code has been set to the account.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">()</span>

    <span class="n">set_code</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">ADD</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">SLOAD</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">))</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="n">set_code_to_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">set_code</span><span class="p">)</span>

    <span class="n">txs</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">Transaction</span><span class="p">(</span>
            <span class="n">sender</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">(),</span>
            <span class="n">gas_limit</span><span class="o">=</span><span class="mi">500_000</span><span class="p">,</span>
            <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
                <span class="n">AuthorizationTuple</span><span class="p">(</span>
                    <span class="n">address</span><span class="o">=</span><span class="n">set_code_to_address</span><span class="p">,</span>
                    <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">],</span>
        <span class="p">)</span>
    <span class="p">]</span>
    <span class="n">auth_signer</span><span class="o">.</span><span class="n">nonce</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># type: ignore</span>

    <span class="k">match</span> <span class="n">tx_type</span><span class="p">:</span>
        <span class="k">case</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">txs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">Transaction</span><span class="p">(</span>
                    <span class="nb">type</span><span class="o">=</span><span class="n">tx_type</span><span class="p">,</span>
                    <span class="n">sender</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
                    <span class="n">gas_limit</span><span class="o">=</span><span class="mi">500_000</span><span class="p">,</span>
                    <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
                    <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="n">protected</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">)</span>
            <span class="n">txs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">Transaction</span><span class="p">(</span>
                    <span class="nb">type</span><span class="o">=</span><span class="n">tx_type</span><span class="p">,</span>
                    <span class="n">sender</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
                    <span class="n">gas_limit</span><span class="o">=</span><span class="mi">500_000</span><span class="p">,</span>
                    <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
                    <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="n">protected</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">)</span>
        <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">txs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">Transaction</span><span class="p">(</span>
                    <span class="nb">type</span><span class="o">=</span><span class="n">tx_type</span><span class="p">,</span>
                    <span class="n">sender</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
                    <span class="n">gas_limit</span><span class="o">=</span><span class="mi">500_000</span><span class="p">,</span>
                    <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
                    <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="n">access_list</span><span class="o">=</span><span class="p">[</span>
                        <span class="n">AccessList</span><span class="p">(</span>
                            <span class="n">address</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
                            <span class="n">storage_keys</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                        <span class="p">)</span>
                    <span class="p">],</span>
                <span class="p">),</span>
            <span class="p">)</span>
        <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">txs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">Transaction</span><span class="p">(</span>
                    <span class="nb">type</span><span class="o">=</span><span class="n">tx_type</span><span class="p">,</span>
                    <span class="n">sender</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
                    <span class="n">gas_limit</span><span class="o">=</span><span class="mi">500_000</span><span class="p">,</span>
                    <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
                    <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="n">max_fee_per_gas</span><span class="o">=</span><span class="mi">1_000</span><span class="p">,</span>
                    <span class="n">max_priority_fee_per_gas</span><span class="o">=</span><span class="mi">1_000</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">)</span>
        <span class="k">case</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">txs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">Transaction</span><span class="p">(</span>
                    <span class="nb">type</span><span class="o">=</span><span class="n">tx_type</span><span class="p">,</span>
                    <span class="n">sender</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
                    <span class="n">gas_limit</span><span class="o">=</span><span class="mi">500_000</span><span class="p">,</span>
                    <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
                    <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="n">max_fee_per_gas</span><span class="o">=</span><span class="mi">1_000</span><span class="p">,</span>
                    <span class="n">max_priority_fee_per_gas</span><span class="o">=</span><span class="mi">1_000</span><span class="p">,</span>
                    <span class="n">max_fee_per_blob_gas</span><span class="o">=</span><span class="mi">1_000</span><span class="p">,</span>
                    <span class="n">blob_versioned_hashes</span><span class="o">=</span><span class="n">add_kzg_version</span><span class="p">(</span>
                        <span class="p">[</span><span class="n">Hash</span><span class="p">(</span><span class="mi">1</span><span class="p">)],</span>
                        <span class="n">Spec4844</span><span class="o">.</span><span class="n">BLOB_COMMITMENT_VERSION_KZG</span><span class="p">,</span>
                    <span class="p">),</span>
                <span class="p">),</span>
            <span class="p">)</span>
        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported tx type: </span><span class="si">{</span><span class="n">tx_type</span><span class="si">}</span><span class="s2">, test needs update&quot;</span><span class="p">)</span>

    <span class="n">blockchain_test</span><span class="p">(</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">blocks</span><span class="o">=</span><span class="p">[</span><span class="n">Block</span><span class="p">(</span><span class="n">txs</span><span class="o">=</span><span class="n">txs</span><span class="p">)],</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">3</span> <span class="k">if</span> <span class="n">tx_type</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">2</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">set_code_to_address</span><span class="p">),</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">3</span> <span class="k">if</span> <span class="n">tx_type</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">2</span><span class="p">},</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h2 id="tests.prague.eip7702_set_code_tx.test_set_code_txs.test_reset_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_reset_code</span><span class="p">(</span><span class="n">blockchain_test</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">self_sponsored</span><span class="p">)</span></code>

<a href="#tests.prague.eip7702_set_code_tx.test_set_code_txs.test_reset_code" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Test sending type-4 tx to reset the code of an account after code has been set to the account.</p>

            <details class="quote">
              <summary>Source code in <code>tests/prague/eip7702_set_code_tx/test_set_code_txs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2635</span>
<span class="normal">2636</span>
<span class="normal">2637</span>
<span class="normal">2638</span>
<span class="normal">2639</span>
<span class="normal">2640</span>
<span class="normal">2641</span>
<span class="normal">2642</span>
<span class="normal">2643</span>
<span class="normal">2644</span>
<span class="normal">2645</span>
<span class="normal">2646</span>
<span class="normal">2647</span>
<span class="normal">2648</span>
<span class="normal">2649</span>
<span class="normal">2650</span>
<span class="normal">2651</span>
<span class="normal">2652</span>
<span class="normal">2653</span>
<span class="normal">2654</span>
<span class="normal">2655</span>
<span class="normal">2656</span>
<span class="normal">2657</span>
<span class="normal">2658</span>
<span class="normal">2659</span>
<span class="normal">2660</span>
<span class="normal">2661</span>
<span class="normal">2662</span>
<span class="normal">2663</span>
<span class="normal">2664</span>
<span class="normal">2665</span>
<span class="normal">2666</span>
<span class="normal">2667</span>
<span class="normal">2668</span>
<span class="normal">2669</span>
<span class="normal">2670</span>
<span class="normal">2671</span>
<span class="normal">2672</span>
<span class="normal">2673</span>
<span class="normal">2674</span>
<span class="normal">2675</span>
<span class="normal">2676</span>
<span class="normal">2677</span>
<span class="normal">2678</span>
<span class="normal">2679</span>
<span class="normal">2680</span>
<span class="normal">2681</span>
<span class="normal">2682</span>
<span class="normal">2683</span>
<span class="normal">2684</span>
<span class="normal">2685</span>
<span class="normal">2686</span>
<span class="normal">2687</span>
<span class="normal">2688</span>
<span class="normal">2689</span>
<span class="normal">2690</span>
<span class="normal">2691</span>
<span class="normal">2692</span>
<span class="normal">2693</span>
<span class="normal">2694</span>
<span class="normal">2695</span>
<span class="normal">2696</span>
<span class="normal">2697</span>
<span class="normal">2698</span>
<span class="normal">2699</span>
<span class="normal">2700</span>
<span class="normal">2701</span>
<span class="normal">2702</span>
<span class="normal">2703</span>
<span class="normal">2704</span>
<span class="normal">2705</span>
<span class="normal">2706</span>
<span class="normal">2707</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;self_sponsored&quot;</span><span class="p">,</span>
    <span class="p">[</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;not_self_sponsored&quot;</span><span class="p">),</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;self_sponsored&quot;</span><span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">test_reset_code</span><span class="p">(</span>
    <span class="n">blockchain_test</span><span class="p">:</span> <span class="n">BlockchainTestFiller</span><span class="p">,</span>
    <span class="n">pre</span><span class="p">:</span> <span class="n">Alloc</span><span class="p">,</span>
    <span class="n">self_sponsored</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test sending type-4 tx to reset the code of an account after code has been set to the account.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_signer</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">()</span>

    <span class="n">set_code_1</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">ADD</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">SLOAD</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">))</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="n">set_code_1_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">set_code_1</span><span class="p">)</span>

    <span class="n">set_code_2</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">SSTORE</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">Op</span><span class="o">.</span><span class="n">ADD</span><span class="p">(</span><span class="n">Op</span><span class="o">.</span><span class="n">SLOAD</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">1</span><span class="p">))</span> <span class="o">+</span> <span class="n">Op</span><span class="o">.</span><span class="n">STOP</span>
    <span class="n">set_code_2_address</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">deploy_contract</span><span class="p">(</span><span class="n">set_code_2</span><span class="p">)</span>

    <span class="n">sender</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">fund_eoa</span><span class="p">()</span>

    <span class="n">txs</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">Transaction</span><span class="p">(</span>
            <span class="n">sender</span><span class="o">=</span><span class="n">sender</span><span class="p">,</span>
            <span class="n">gas_limit</span><span class="o">=</span><span class="mi">500_000</span><span class="p">,</span>
            <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
                <span class="n">AuthorizationTuple</span><span class="p">(</span>
                    <span class="n">address</span><span class="o">=</span><span class="n">set_code_1_address</span><span class="p">,</span>
                    <span class="n">nonce</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">],</span>
        <span class="p">)</span>
    <span class="p">]</span>

    <span class="n">auth_signer</span><span class="o">.</span><span class="n">nonce</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># type: ignore</span>

    <span class="k">if</span> <span class="n">self_sponsored</span><span class="p">:</span>
        <span class="n">sender</span> <span class="o">=</span> <span class="n">auth_signer</span>

    <span class="n">txs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="n">Transaction</span><span class="p">(</span>
            <span class="n">sender</span><span class="o">=</span><span class="n">sender</span><span class="p">,</span>
            <span class="n">gas_limit</span><span class="o">=</span><span class="mi">500_000</span><span class="p">,</span>
            <span class="n">to</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">authorization_list</span><span class="o">=</span><span class="p">[</span>
                <span class="n">AuthorizationTuple</span><span class="p">(</span>
                    <span class="n">address</span><span class="o">=</span><span class="n">set_code_2_address</span><span class="p">,</span>
                    <span class="n">nonce</span><span class="o">=</span><span class="n">auth_signer</span><span class="o">.</span><span class="n">nonce</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">self_sponsored</span> <span class="k">else</span> <span class="n">auth_signer</span><span class="o">.</span><span class="n">nonce</span><span class="p">,</span>
                    <span class="n">signer</span><span class="o">=</span><span class="n">auth_signer</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">],</span>
        <span class="p">),</span>
    <span class="p">)</span>

    <span class="n">blockchain_test</span><span class="p">(</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">pre</span><span class="p">,</span>
        <span class="n">blocks</span><span class="o">=</span><span class="p">[</span><span class="n">Block</span><span class="p">(</span><span class="n">txs</span><span class="o">=</span><span class="n">txs</span><span class="p">)],</span>
        <span class="n">post</span><span class="o">=</span><span class="p">{</span>
            <span class="n">auth_signer</span><span class="p">:</span> <span class="n">Account</span><span class="p">(</span>
                <span class="n">nonce</span><span class="o">=</span><span class="mi">3</span> <span class="k">if</span> <span class="n">self_sponsored</span> <span class="k">else</span> <span class="mi">2</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Spec</span><span class="o">.</span><span class="n">delegation_designation</span><span class="p">(</span><span class="n">set_code_2_address</span><span class="p">),</span>
                <span class="n">storage</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>




  </div>

    </div>

</div>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright: 2023, Ethereum Community
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.code.copy", "search.suggest", "search.highlight", "content.tabs.link", "navigation.indexes", "navigation.instant", "navigation.tabs"], "search": "../../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.af256bd8.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>